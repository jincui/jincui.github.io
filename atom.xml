<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>金金求上进</title>
  <subtitle>一只修炼中的全沾程序媛，一位资深腐女</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="xjinjin.net/"/>
  <updated>2016-12-10T11:00:15.000Z</updated>
  <id>xjinjin.net/</id>
  
  <author>
    <name>xjinjin</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>angular 自定义form表单input range validate</title>
    <link href="xjinjin.net/2016/12/10/angular-input-validate/"/>
    <id>xjinjin.net/2016/12/10/angular-input-validate/</id>
    <published>2016-12-10T10:55:02.000Z</published>
    <updated>2016-12-10T11:00:15.000Z</updated>
    
    <content type="html">&lt;p&gt;angular的form体系，为我们做表单验证提供了很大的便利.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;它会为我们的表单元素添加标识不同状态的class，我们可以set对应样式控制元素表现&lt;/li&gt;
&lt;li&gt;根据form的$valid, $toched等状态属性控制元素行为，譬如对submit button添加上(ng-disabled=”form.$invalid”)属性，输入不合法时禁止提交&lt;/li&gt;
&lt;li&gt;在controller里，通过form的$setValidity, $comitViewVaue 等方法，进行一系列的form交互控制。&lt;/li&gt;
&lt;li&gt;再比如，自定义form内元素的验证行为，如自定义一个numRangeValidate的directive，绑到form里的input上去，验证输入范围。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;excerpt in=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 首页摘要=&quot;&quot;&gt;&lt;/excerpt&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;the rest=&quot;&quot; of=&quot;&quot; contents=&quot;&quot; |=&quot;&quot; 余下全文=&quot;&quot;&gt;

&lt;/the&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;源码片段分析&quot;&gt;&lt;a href=&quot;#源码片段分析&quot; class=&quot;headerlink&quot; title=&quot;源码片段分析&quot;&gt;&lt;/a&gt;源码片段分析&lt;/h2&gt;&lt;p&gt;angular 源码中，ngModelDirective 会在preLink里找到它从属的form，然后调用form的addControl方法把自己加进去。&lt;br&gt;根据form的addControl方法，我们可以通过&lt;code&gt;form.元素的name&lt;/code&gt;访问到元素的一些信息，可以自己打印出来看看。Form在&lt;code&gt;$setPristine&lt;/code&gt;或其他操作时，会依次调用自己controls里的那些ctrl上的相应方法。&lt;br&gt;比如&lt;code&gt;form.$commitViewValue&lt;/code&gt;依次调用了&lt;code&gt;control.$commitViewValue&lt;/code&gt;方法，而ngModelController里的&lt;code&gt;$commitViewValue&lt;/code&gt;方法会调用&lt;code&gt;$$parseAndValidate&lt;/code&gt;，这个方法里循环调用了我们稍后会用到的&lt;code&gt;parsers&lt;/code&gt;里的所有验证。&lt;br&gt;代码片段如下&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ngModelDirective = [&lt;span class=&quot;string&quot;&gt;&#39;$rootScope&#39;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;$rootScope&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    restrict: &lt;span class=&quot;string&quot;&gt;&#39;A&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;: [&lt;span class=&quot;string&quot;&gt;&#39;ngModel&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;^?form&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;^?ngModelOptions&#39;&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    controller: NgModelController,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Prelink needs to run before any input directive&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// so that we can set the NgModelOptions in NgModelController&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// before anyone else uses it.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    priority: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    compile: &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ngModelCompile&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;element&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// Setup initial state of the control&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      element.addClass(PRISTINE_CLASS).addClass(UNTOUCHED_CLASS).addClass(VALID_CLASS);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        pre: &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ngModelPreLink&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;scope, element, attr, ctrls&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; modelCtrl = ctrls[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              formCtrl = ctrls[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;] || modelCtrl.$$parentForm;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          modelCtrl.$$setOptions(ctrls[&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;] &amp;amp;&amp;amp; ctrls[&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;].$options);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;comment&quot;&gt;// notify others, especially parent forms&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          formCtrl.$addControl(modelCtrl);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          attr.$observe(&lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;newValue&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (modelCtrl.$name !== newValue) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              modelCtrl.$$parentForm.$$renameControl(modelCtrl, newValue);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          scope.$on(&lt;span class=&quot;string&quot;&gt;&#39;$destroy&#39;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            modelCtrl.$$parentForm.$removeControl(modelCtrl);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.....&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;form.$addControl = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;control&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// Breaking change - before, inputs whose name was &quot;hasOwnProperty&quot; were quietly ignored&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// and not added to the scope.  Now we throw an error.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   assertNotHasOwnProperty(control.$name, &lt;span class=&quot;string&quot;&gt;&#39;input&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   controls.push(control);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (control.$name) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     form[control.$name] = control;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   control.$$parentForm = form;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;....&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;form.$commitViewValue = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  forEach(controls, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;control&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    control.$commitViewValue();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;自定义输入框数字范围验证控件&quot;&gt;&lt;a href=&quot;#自定义输入框数字范围验证控件&quot; class=&quot;headerlink&quot; title=&quot;自定义输入框数字范围验证控件&quot;&gt;&lt;/a&gt;自定义输入框数字范围验证控件&lt;/h2&gt;&lt;p&gt;下面我们来写个小例子，设置买一组商品所需要的总预算，系统根据用户勾选的商品自动计算预算，当然用户也可以自己输入，但是输入值除了基本的数字验证外，还必须不低于已勾选商品价格总和，即需要动态的限制用户可输入的最小值。&lt;/p&gt;
&lt;p&gt;首先，我们可以先写好一个NumRangeValidateDirective，用于验证输入值的范围。如下，它绑定了两个输入min, max， 同时require了ngModel。&lt;strong&gt;ngModel的$parsers里的方法决定如何将Dom值，即用户输入的值，转换到ng-model所绑定的值，而$formatters里的方法决定如何将model值呈现到界面上&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;因为我们要验证用户输入，所以往ngModel的$parsers里添加一个自定义的方法。&lt;br&gt;首先通过正则验证一下输入格式，比如’009’, ‘rrr’,不允许这样的输入。&lt;br&gt;然后与scope上的min, max分别比较一下，如果不符合范围，则通过&lt;code&gt;ngModel.$setValidity(&amp;#39;numRange&amp;#39;, ...);&lt;/code&gt;设置一个numRange类别的invalid信息。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;NumRangeValidateDirective&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;ngModel&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        scope: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            min: &lt;span class=&quot;string&quot;&gt;&#39;=&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            max: &lt;span class=&quot;string&quot;&gt;&#39;=&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        link: (scope, elem, attr, ngModel) =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;//For DOM -&amp;gt; model validation&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ngModel.$parsers.push((value) =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; valid = ((&lt;span class=&quot;regexp&quot;&gt;/^-?(0|([1-9]\d*))$/&lt;/span&gt;).test(&lt;span class=&quot;string&quot;&gt;`&lt;span class=&quot;subst&quot;&gt;$&amp;#123;value&amp;#125;&lt;/span&gt;`&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; res = _.toNumber(value);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                valid = _.isUndefined(scope.min) ? valid : (valid &amp;amp;&amp;amp; (res &amp;gt;= scope.min));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                valid = _.isUndefined(scope.max) ? valid : (valid &amp;amp;&amp;amp; (res &amp;lt;= scope.max));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                ngModel.$setValidity(&lt;span class=&quot;string&quot;&gt;&#39;numRange&#39;&lt;/span&gt;, valid);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; valid ? res : &lt;span class=&quot;literal&quot;&gt;undefined&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;// eslint-disable-line no-undefined&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;//For model -&amp;gt; DOM validation&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// ngModel.$formatters.unshift((value) =&amp;gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;//     // ngModel.$setValidity(&#39;budget&#39;, blacklist.indexOf(value) === -1);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;//     return value;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// &amp;#125;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; NumRangeValidateDirective;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;往input上加上num-range-validate控件（angular自带一些验证，如ng-required,可以去&lt;a href=&quot;https://docs.angularjs.org/api/ng/directive/form&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官网&lt;/a&gt;查看）&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;form(name=&amp;quot;ctrl.form&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   .input-wrapper&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     input(name=&amp;quot;budget&amp;quot;, ng-model=&amp;quot;ctrl.totalBudget&amp;quot;, num-range-validate,  min=&amp;quot;ctrl.sum&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     i.fa.fa-exclamation.error(ng-show=&amp;quot;ctrl.form.budget.$invalid&amp;quot;, title=&amp;quot;您的预算不得低于已选物品总金额&amp;#123;&amp;#123;ctrl.sum&amp;#125;&amp;#125;&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;可以通过&lt;code&gt;ctrl.form.budget.$error&lt;/code&gt;拿到具体的错误信息。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ww1.sinaimg.cn/large/904e587bgw1faluhv34bmg20gb08cjwj.gif&quot; alt=&quot;示意图&quot;&gt;&lt;br&gt;附上&lt;a href=&quot;https://codepen.io/xjinjin/pen/LbWzxO&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;codepen Example 地址&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;参考&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ngnice.com/posts/81c1eb92bfbde0&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;angular Formvalidate 运作原理&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://odetocode.com/blogs/scott/archive/2014/05/28/compile-pre-and-post-linking-in-angularjs.aspx&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;angular compile pre post link&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.undefinednull.com/2014/07/07/practical-guide-to-prelink-postlink-and-controller-methods-of-angular-directives/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;angular compile controller link&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;angular的form体系，为我们做表单验证提供了很大的便利.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;它会为我们的表单元素添加标识不同状态的class，我们可以set对应样式控制元素表现&lt;/li&gt;
&lt;li&gt;根据form的$valid, $toched等状态属性控制元素行为，譬如对submit button添加上(ng-disabled=”form.$invalid”)属性，输入不合法时禁止提交&lt;/li&gt;
&lt;li&gt;在controller里，通过form的$setValidity, $comitViewVaue 等方法，进行一系列的form交互控制。&lt;/li&gt;
&lt;li&gt;再比如，自定义form内元素的验证行为，如自定义一个numRangeValidate的directive，绑到form里的input上去，验证输入范围。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;Excerpt in index | 首页摘要&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
    
    </summary>
    
      <category term="编程" scheme="xjinjin.net/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="javascript" scheme="xjinjin.net/tags/javascript/"/>
    
      <category term="angular" scheme="xjinjin.net/tags/angular/"/>
    
  </entry>
  
  <entry>
    <title>BL游戏盘点感动瞬间（三）—— 咎狗之血，sweet pool</title>
    <link href="xjinjin.net/2016/10/25/bl-game-moved-3/"/>
    <id>xjinjin.net/2016/10/25/bl-game-moved-3/</id>
    <published>2016-10-25T09:19:24.000Z</published>
    <updated>2016-11-19T15:12:53.000Z</updated>
    
    <content type="html">&lt;p&gt;啊，美好的周末就结束啦，又到了怀念过去的时候。不久前刚刚通关了神学校，之前一直因为各种说剧情太长，被唬住了，没敢玩，真玩完感觉还好，可惜其中的两个角色，神父和加比的结局似乎都不是那么完美。&lt;/p&gt;
&lt;p&gt;不过，本期我们要盘点的是咎狗之血和sweet pool （和Dmmd，lamento并称为Nitro+ChiRAL四部曲）&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ww3.sinaimg.cn/large/904e587bjw1f92md6wykuj20kx0g7wi1.jpg&quot; alt=&quot;Sweet Pool&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;excerpt in=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 首页摘要=&quot;&quot;&gt;&lt;/excerpt&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;the rest=&quot;&quot; of=&quot;&quot; contents=&quot;&quot; |=&quot;&quot; 余下全文=&quot;&quot;&gt;

&lt;/the&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;两部游戏的故事背景还是蛮有意思的，一个是架空的战后日本，一个是混迹于日常的“非日常”，被宿肉寄生的人类。&lt;/p&gt;
&lt;h2 id=&quot;咎狗之血&quot;&gt;&lt;a href=&quot;#咎狗之血&quot; class=&quot;headerlink&quot; title=&quot;咎狗之血&quot;&gt;&lt;/a&gt;咎狗之血&lt;/h2&gt;&lt;p&gt;咎狗之血里的每个角色似乎都有着不幸的过去，n, Akira, Keisuke，为了当作战斗兵器而培养出来的孩子，人体实验活生生的证据，体内流着对他人而言是贵重，而对自己而言却是可憎的血。Rin，失去恋人，被背叛，对兄长shiki的憧憬与憎恨……&lt;/p&gt;
&lt;h3 id=&quot;Akira与Rin，等了五年的约定与重逢&quot;&gt;&lt;a href=&quot;#Akira与Rin，等了五年的约定与重逢&quot; class=&quot;headerlink&quot; title=&quot;Akira与Rin，等了五年的约定与重逢&quot;&gt;&lt;/a&gt;Akira与Rin，等了五年的约定与重逢&lt;/h3&gt;&lt;p&gt;Rin这个角色其实人物设定方面我还是非常喜欢的，表面上开朗活泼，像天使一样纯真无害。事实上却是个可以利落的杀掉一屋子的人，笑着拍照的人（虽然造型上不是特别满意）。起初，Rin因为Akira跟自己过去所仰慕的对象很相似，而接近Akira，像好朋友似的关心他。微笑不过是对脆弱的掩饰，当过去血淋淋的事实被重新提起，当自己憧憬却憎恨着的人就在眼前，却无力报仇的时候，Rin看似坚强的外壳土崩瓦解。一直以来，他都在逃避，都在害怕。&lt;br&gt;&lt;img src=&quot;http://ww1.sinaimg.cn/large/904e587bjw1f92mbcnusoj20lz0gcdiz.jpg&quot; alt=&quot;崩溃状态的Rin&quot;&gt;&lt;/p&gt;
&lt;p&gt;他和Akira都是孤独的。Akira是“不需要任何人的孤独”，如果不这么说服自己，就没法继续活下去。&lt;br&gt;而Rin是“想要某人却无法得到的孤独”。最终，Akira没有放弃Rin, Rin也再一次敞开心扉，选择相信Akira，选择真正的坚强。&lt;br&gt;但是他没有和Akira一起逃离丰岛，而是和他做了个约定。他还有事情要去做，就算是为了Akira, 他也必须要和过去好好做个了断。于是，那一天，他们离开了彼此的身边…….&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ww2.sinaimg.cn/large/904e587bjw1f92mkdt40kj20lf0g0ae6.jpg&quot; alt=&quot;美丽风景&quot;&gt;&lt;br&gt;五年后，在这样一个美丽的傍晚。Akira接到了源泉的电话，聊着彼此的近况。&lt;br&gt;内战已于三年前结束，随着东京的毁灭，伊古拉也一并崩溃。然而Akira对这些并不关注，他唯一在意的只有当初的那个约定。&lt;/p&gt;
&lt;p&gt;尽管经过了5年的岁月，Rin的话语仍然和当时一样鲜活的在心中回响，然而心中的空洞，却一点一点变得越来越大。他深深明白那个名为Shiki被称之为王的男人的强大。五年前的那个雨天，Rin是否死在了Shiki的剑下,就算他侥幸活了下来，又如何才能逃离过四面八方的追捕，离别前，他的身上还带着伤。倘若一切都足够幸运，那为什么过了五年，Rin还没有来找他，是忘了，不愿来还是不能来……名为绝望的情感意外的沉重，也蔓延的格外迅速。&lt;/p&gt;
&lt;p&gt;街头进行的比赛，Akira每次看，都会想起曾经的自己，还有丰岛发生的一幕幕。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;你还在参加？ 不过我猜，你一定是来看比赛的吧。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;像往常一样看着比赛，打发时间，突然，身后响起了令人怀念的声音，Akira一瞬间甚至害怕起来，害怕一回头又是重复了一遍又一遍的失望。可是，已经过了这么久，已经相信了这么久，已经别无他法，只能选择相信，继续前进。&lt;br&gt;&lt;img src=&quot;http://ww3.sinaimg.cn/large/904e587bjw1f92mcbkrsxj20lx0gewij.jpg&quot; alt=&quot;5年后的Rin&quot;&gt;&lt;br&gt;身后站着的人，蓝色的眼睛，金色的头发，雪白的皮肤，跟5年前相比一点没变，只是比他长的还高了，更成熟了些。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Rin: 逃离东京稍微花了点时间呢&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Rin一如既往腼腆地笑着。&lt;br&gt;如果再度重逢应该说些什么，Akira已经想象过很多次，可此刻却什么也说不出来。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Rin: 我可不是幽灵哦？虽然确实缺了一条腿就是了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Akira呆呆地望着Rin, 不敢相信，Rin和他开着玩笑，把自己的伤轻松地一笔带过。谈及那场了断，&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Rin: 我只能回答你，现在我在这里&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;已经全部一刀两断。对兄长的憧憬和憎恨，已经亲手了断了。&lt;br&gt;Akira凝视着Rin那双比从前柔和了许多的眼睛，不管如何憎恨，那个人依然是与他血脉相连，令他憧憬不已的兄长。他的心中，一定埋藏着他人无法体会的烦恼和痛苦。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Rin: 你一直在等我?&lt;br&gt;  Rin:  Akira, 你真是一点没变呢&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Rin带着恶作剧的表情眯起了眼睛。&lt;br&gt;逃亡时，中间也想过放弃，但那样自己和以前缩在壳里的自己有什么分别，现在想来，自己没有放弃真是太好了。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;我是为了能够站在Akira身边才想去将一切做个了断的，也是为了那个目标才渴望着胜利。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Rin把Shiki的日本刀交到Akira手里，漫长的旅途终于画上了休止符，于他于Akira都是。与此同时，一直承受着无数回忆的Akira体内，似乎有什么东西正在静静地生长，充满了荒芜的心灵。&lt;/p&gt;
&lt;p&gt;Akira对自己血液的不安，还没有消失, 也许血液里的病毒明天就会夺去他的生命。可是，Rin会陪着他，未来是什么样子的谁也不知道，明天会发生什么谁也不清楚，可是，只要和你一起，我就会相信，相信属于我们的幸福一定存在。&lt;/p&gt;
&lt;h3 id=&quot;守护shiki的Akira&quot;&gt;&lt;a href=&quot;#守护shiki的Akira&quot; class=&quot;headerlink&quot; title=&quot;守护shiki的Akira&quot;&gt;&lt;/a&gt;守护shiki的Akira&lt;/h3&gt;&lt;p&gt;找到维斯基欧的王，shiki, 杀死他并替代他，是一开始Akira在强行交易中被赋予的使命。然而力量实在过于悬殊，shiki轻而易举的就支配了Akira的行动。&lt;br&gt;Shiki对力量有着别样的执着，自从被n打败后，一直想要变强，想要打败n, 甚至成了他唯一的信念支撑。&lt;br&gt;最终，他实现了愿望，内战也于一年前结束，可事情并未就此终结。&lt;br&gt;Akira已被无罪释放，但shiki是确凿的犯罪者，无法被社会所接纳。且伊古拉和维斯基欧消失以后，开始不断出现对shiki抱有怨恨，试图刺杀他的人。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;n: 你输了&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;n最后的话语，随着时间的流逝，Akira也明白了其中的含义。失去生命意义，变得像亡灵一样的shiki，再没拿起过他的刀。如果不是Akira, 恐怕Shiki早已经被杀死。可那又怎样，Shiki仿佛对一切都不再在乎，就这样死掉又有什么不好。&lt;/p&gt;
&lt;p&gt;这也是令我伤心的地方，无论Akira做什么，Shiki都无动于衷，曾经那个冷艳高傲，强大到令人胆寒的Shiki已经消失了，Shiki曾经对他做过的那些事，至今也没有告诉他究竟是为了什么。&lt;br&gt;Akira已经说不清楚自己对Shiki究竟是怎样的一种复杂感情，可是他被抓时，几近丧命时，是Shiki救了他。&lt;br&gt;&lt;img src=&quot;http://ww3.sinaimg.cn/large/904e587bjw1f92mlukykdj20ls0gd44m.jpg&quot; alt=&quot;shiki救下Akira&quot;&gt;&lt;br&gt;哪怕自己体内流淌着他所憎恨的病毒之血，他也依然毫不犹豫的断言Akira就是Akira。Akira想要去了解Shiki，哪怕他已经不再是曾经的那个他，但肯定有什么是不变的，不是吗。&lt;/p&gt;
&lt;p&gt;自那天起，他们便一直辗转漂泊，躲躲藏藏。&lt;br&gt;难得的片刻安宁，Akira把Shiki的刀背上，推着Shiki出来，心想也许美丽的景色能稍稍触动Shiki也不一定。&lt;br&gt; &lt;img src=&quot;http://ww1.sinaimg.cn/large/904e587bjw1f92mlfoq9oj20li0gbtd9.jpg&quot; alt=&quot;Akira推着Shiki出来看景色&quot;&gt;&lt;br&gt; 此时，周围暗藏的杀机，Akira已察觉到，没什么的，已经是家常便饭了。 Shiki不出刀，Akira就代他出刀。&lt;br&gt; 无论你变成什么样子，我都不会放弃你，我会永远保护你，像你当初一样，我会一直等着你，等你苏醒，等你告诉我原因的那一天。&lt;/p&gt;
&lt;h3 id=&quot;珍惜彼此，Keisuke和Akira平凡幸福的余生&quot;&gt;&lt;a href=&quot;#珍惜彼此，Keisuke和Akira平凡幸福的余生&quot; class=&quot;headerlink&quot; title=&quot;珍惜彼此，Keisuke和Akira平凡幸福的余生&quot;&gt;&lt;/a&gt;珍惜彼此，Keisuke和Akira平凡幸福的余生&lt;/h3&gt;&lt;p&gt;似乎大部分BL游戏里，都会有青梅竹马梗啊。比如steal里面的明日叶和慧。&lt;br&gt;Keisuke性格温和，做事努力，一直追逐着Akira的步伐。Akira为了他的安全，坦言拒绝他的帮助，但Keisuke还是跟了过来，哪怕能帮上一点也好。&lt;br&gt;Keisuke喜欢着Akira, 却自卑的不敢说出口，觉得自己什么也做不好，只会是Akira的累赘。很怕，很怕，怕Akira对他说不需要，怕被Akira抛在身后。&lt;/p&gt;
&lt;p&gt;久而久之，这种怯懦隐忍的喜欢往往发展成病态的喜欢，而莱茵就是契机。因莱因而获得的强大力量，让Keisuke的心灵都变得扭曲，也将那些藏在心底的欲望都扒了出来。他疯狂地追着Akira, 质问他，甚至刀剑相向，将自己的害怕变成愤怒渲泻而出。（如果玩过，一定记得那个Keisuke扯肠子的情节吧。）&lt;/p&gt;
&lt;p&gt;想想是多么可悲，原本是想要力量来保护自己所爱的人，却被力量控制了自己，臣服于欲望，成了那个一直伤害他的人。明明一直小心翼翼地想保护着他，而自己的喜欢却成了对他的诅咒。Akira的血最终中和了keisuke体内的毒素，那几天几夜里，Akira陪着嘶吼发狂的Keisuke, 阻止他自杀，告诉他要撑下去，要变回原来的Keisuke, 也意识到Keisuke对自己而言，已经不只是孤儿院一起长大的玩伴那样简单, 他因为自己而堕落的时候，自己又是多么的内疚和后悔。&lt;/p&gt;
&lt;p&gt;莱茵的病毒已去，但某些东西仍然留了下来。譬如Keisuk身上的力量，以及……勇气。可以说出口了，想要保护Akira, 想要留在他身边的心情。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ww4.sinaimg.cn/large/904e587bjw1f92mipyaufj20lw0gbaf9.jpg&quot; alt=&quot;工厂里的keisuke和Akira&quot;&gt;&lt;/p&gt;
&lt;p&gt;经过一番努力，内战结束。Keisuke和Akira也来到了新的地方，开始了新的生活。那段记忆深处的经历，Keisuke至今还会被噩梦吓醒，说不出安慰的话，也没有人刻意要去忘记，正因为那些，他们才成了现在的他们。&lt;/p&gt;
&lt;p&gt;身体里的血虽然罪恶，但如今也并未影响什么，莱茵的病毒虽然可怕，但他在Keisuke身上留下的力量，却成了一件好事。&lt;/p&gt;
&lt;p&gt;相对于曾在工厂做过事的Keisuke, Akira显得笨手笨脚, Keisuke意外地非常满意这样的现状。虽然明白了彼此的心意，但那些动人的告白话语似乎尚未从彼此口中说出，也一直没有机会。可是没关系，我们的明天还有很多，还很长。如果不是对方，我们根本就不可能站在这里。我们也都明白，彼此心中最重要的，究竟是什么……&lt;/p&gt;
&lt;p&gt;作为青梅竹马加暗恋担当，Keisuke真的在各个线里都体现了对Akira浓浓的爱意，比如下方这张，到最后，还在庆幸自己终于能为Akira做出一点什么。&lt;br&gt;&lt;img src=&quot;http://ww1.sinaimg.cn/large/904e587bjw1f92mjizi29j20ly0g9q82.jpg&quot; alt=&quot;救了Akira的Keisuke&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;Sweet-Pool&quot;&gt;&lt;a href=&quot;#Sweet-Pool&quot; class=&quot;headerlink&quot; title=&quot;Sweet Pool&quot;&gt;&lt;/a&gt;Sweet Pool&lt;/h2&gt;&lt;p&gt;sweet pool是很久很久以前玩的了，确实如大家所说，整体色调颇为血腥压抑，从一开始就注定了悲剧的宿命。&lt;br&gt;雄性与雌性的相互吸引，雄性对雌性的占有欲，像是命运驱使着的人生, 不容抗拒，无法逃离。&lt;/p&gt;
&lt;p&gt;察觉自己身体异常的蓉司，慢慢地饱受各种身体上包括心灵上的折磨。突然接近他的哲雄，摸不清他的心意也让自己万分痛苦。以及一直被他吸引的开朗活泼的学生睦，为了他好，才想与他保持距离，却成了睦由爱生恨的源头。还有善弥，无休止的纠缠和不明所以的话语。&lt;br&gt;&lt;img src=&quot;http://ww4.sinaimg.cn/large/904e587bjw1f92mdo41n8j20k40g7q79.jpg&quot; alt=&quot;浴缸浴血的蓉司&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;达成“他们”的心愿，舍弃自我，诞生纯成&quot;&gt;&lt;a href=&quot;#达成“他们”的心愿，舍弃自我，诞生纯成&quot; class=&quot;headerlink&quot; title=&quot;达成“他们”的心愿，舍弃自我，诞生纯成&quot;&gt;&lt;/a&gt;达成“他们”的心愿，舍弃自我，诞生纯成&lt;/h3&gt;&lt;p&gt;说这部游戏压抑的原因，还跟几位主角的个性有关，蓉司，哲雄，善弥都不算是善于言谈表达的人。蓉司的人际关系单薄，孤独成性。&lt;br&gt;&lt;img src=&quot;http://ww1.sinaimg.cn/large/904e587bjw1f92mhe4u90j20l30gaq6k.jpg&quot; alt=&quot;确认心意&quot;&gt;&lt;br&gt;到此时此刻，两人也说不清楚对彼此的究竟是什么感情。身为雌性，会发出吸引雄性的诱人香味。哲雄是不是仅仅因此而接近他的呢，蓉司为此感到失落。&lt;br&gt;其实，哲雄自己也不清楚。原本，是这么以为的。一直以来，他都明白，自己不属于人类，身体和普通人不一样，也没有父母，独自一人。&lt;br&gt;可是，自从看到了蓉司，他便认定他们是同类，他也并非孤单。&lt;br&gt;雄性想要得到雌性，这不是理所当然的吗。可是，他们像人类一样交流，说笑，亲吻，仿佛自己就是普通人一样，已经模糊了界限和原因。只是单纯地想看见你，想触碰你，想和你一起。&lt;/p&gt;
&lt;p&gt;因为有着一样的伤口，所以彼此互舔着伤口，互相安慰吗？&lt;br&gt;&lt;img src=&quot;http://ww3.sinaimg.cn/large/904e587bjw1f92mgvj7vnj20kr0g1wj4.jpg&quot; alt=&quot;阳台表白&quot;&gt;&lt;/p&gt;
&lt;p&gt;已经逃不掉了，那么最后，能否再做些有意义的事情呢。哲雄和蓉司决定达成“他们”的心愿，完成交配，诞生纯成。这意味着什么，意味着他们将不复存在。&lt;/p&gt;
&lt;p&gt;他们拥抱着彼此，清清楚楚地感受到彼此身体的变化，正在融化，仿佛溶在了一起。身边的肉块肆意地将他们包围，吞噬一般。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;哲雄： 你认为真的有永远吗&lt;br&gt;朦胧的意识中，响起嘶哑的话语。&lt;br&gt; 蓉司：永远，并不存在&lt;br&gt; 哲雄：是啊，怎么会有这种东西存在呢&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;说好了想要永远在一起，可这样承认了永远并不存在以后，就像是说了谎一样。&lt;br&gt;永远？不需要永远。想要铭记于心，只有此时此刻，最重要的时刻，不想他变成谎言。&lt;/p&gt;
&lt;p&gt;最后，哲雄趴在蓉司的怀里，两人的身体开始融合。已经连眼睑都睁不开了，喉咙仿佛也在融化，发不出声音。蓉司在死去之前，还想对哲雄说的那句话，到底是什么也不重要了。&lt;/p&gt;
&lt;p&gt;意识消亡的那一刻，他们拥抱着彼此，确认着彼此，感受着彼此，这就够了……&lt;/p&gt;
&lt;h2 id=&quot;小感言&quot;&gt;&lt;a href=&quot;#小感言&quot; class=&quot;headerlink&quot; title=&quot;小感言&quot;&gt;&lt;/a&gt;小感言&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;作为个体，可能是孤独的，脆弱的。可是，当某个人走进了我们的心里，我们便有了互相扶持的依靠。&lt;/li&gt;
&lt;li&gt;未来有多久并不重要，而是在到达未来的路上，每一分每一秒我们都握紧彼此的双手。&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;啊，美好的周末就结束啦，又到了怀念过去的时候。不久前刚刚通关了神学校，之前一直因为各种说剧情太长，被唬住了，没敢玩，真玩完感觉还好，可惜其中的两个角色，神父和加比的结局似乎都不是那么完美。&lt;/p&gt;
&lt;p&gt;不过，本期我们要盘点的是咎狗之血和sweet pool （和Dmmd，lamento并称为Nitro+ChiRAL四部曲）&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ww3.sinaimg.cn/large/904e587bjw1f92md6wykuj20kx0g7wi1.jpg&quot; alt=&quot;Sweet Pool&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;Excerpt in index | 首页摘要&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
    
    </summary>
    
      <category term="腐女世界" scheme="xjinjin.net/categories/%E8%85%90%E5%A5%B3%E4%B8%96%E7%95%8C/"/>
    
    
      <category term="BL" scheme="xjinjin.net/tags/BL/"/>
    
      <category term="游戏" scheme="xjinjin.net/tags/%E6%B8%B8%E6%88%8F/"/>
    
      <category term="盘点" scheme="xjinjin.net/tags/%E7%9B%98%E7%82%B9/"/>
    
  </entry>
  
  <entry>
    <title>BL游戏盘点感动瞬间（二）—— steal，lucky dog</title>
    <link href="xjinjin.net/2016/09/25/bl-game-moved-2/"/>
    <id>xjinjin.net/2016/09/25/bl-game-moved-2/</id>
    <published>2016-09-25T09:19:24.000Z</published>
    <updated>2016-09-25T15:36:40.000Z</updated>
    
    <content type="html">&lt;p&gt;啊，因为种种原因，真的好久没有碰游戏了呢。之前一直卡在神无之鸟那儿， 果然这种偏日常系列的我还是不太感冒的。&lt;/p&gt;
&lt;p&gt;好的，废话少说，今天来盘点一下steal和lucky dog里的一些情节。这两个游戏我还是比较心水的，尤其是后者，简直大爱，每个角色的个人线部分编剧都非常走心。&lt;/p&gt;
&lt;p&gt;因为，玩的时间很久了，所以剧情描述可能有出入，欢迎补充和指正哟。&lt;/p&gt;
&lt;h2 id=&quot;Steal&quot;&gt;&lt;a href=&quot;#Steal&quot; class=&quot;headerlink&quot; title=&quot;Steal&quot;&gt;&lt;/a&gt;Steal&lt;/h2&gt;&lt;p&gt;steal里面可攻略的角色真是多啊，各式各样（色色色）！&lt;/p&gt;
&lt;p&gt;我对于银发是没有抵抗力的，所以一开始就对里面的桐生前辈很心水，结果这只居然是最鬼畜的。各个人物的线路总的来说一般，感点不多（我感点高？？）。不过我们可怜的兴前辈向明日叶诉说家里的长辈都说他不适合创作，只会临摹的人不可能啥啥啥的时候，明明很努力却不受认可，那副快哭出来的不知所措的样子我还是记忆尤深啊，心疼一把。&lt;/p&gt;
&lt;p&gt;&lt;excerpt in=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 首页摘要=&quot;&quot;&gt;&lt;/excerpt&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;the rest=&quot;&quot; of=&quot;&quot; contents=&quot;&quot; |=&quot;&quot; 余下全文=&quot;&quot;&gt;

&lt;/the&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;迪奥：我来接你了&quot;&gt;&lt;a href=&quot;#迪奥：我来接你了&quot; class=&quot;headerlink&quot; title=&quot;迪奥：我来接你了&quot;&gt;&lt;/a&gt;迪奥：我来接你了&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://ww2.sinaimg.cn/large/904e587bjw1f8629tvb6fj20m20gdgrb.jpg&quot; alt=&quot;Steal结局L&amp;#39; AMANTE&quot;&gt;&lt;/p&gt;
&lt;p&gt;迪奥这个角色是出乎我的意料的，一开始以为是典型的花花公子类型（好像也是哦），但和他接触越多，反而对他的情话喜欢起来。说起来，他一直对明日叶比较关照，也常常表达自己对他的喜欢，其他线中，迪奥曾说自己就是被明日叶＊＊的表情所俘虏的，想得到他的一切。&lt;/p&gt;
&lt;p&gt;欺诈师的身份，看似什么都不在意又人缘超好的外表下，却掩藏着一个孤独的心。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ww2.sinaimg.cn/large/904e587bjw1f862g1m6o6j20ls0gdn21.jpg&quot; alt=&quot;幼年迪奥&quot;&gt;&lt;br&gt;儿时在霍克逼迫下刺杀自己父亲的记忆是他挥之不去的阴霾。尤其是追捕霍克的任务消息一出来，他便按捺不住那颗想要复仇的心。霍克将两人关押，欲故技重施，逼迫就范，而拥有真实之眼的明日叶窥见了迪奥心底的秘密，迪奥最终也将自己的过去和盘托出。迪奥说的无比轻松，可明日叶为这样的迪奥心疼不已。&lt;/p&gt;
&lt;p&gt;然而，最终事情并不顺利，明日叶虽然获救，大家也相安无事，但迪奥失踪，霍克下落不明，任务以失败告终，Team Griff解散。&lt;/p&gt;
&lt;p&gt;后来传来消息霍克已经落网且已被极其残酷的手段制裁。&lt;/p&gt;
&lt;p&gt;是不是迪奥因为巨大的复仇之心而做的已经不重要了，大家心里都知道迪奥多半是不可能再回来了。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;土屋太阳：大哥，是我最尊敬的人。为了明日叶前辈的话，就算是在世界尽头，也会赶回来的。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这样的安慰显然不奏效，明日叶日渐消沉，自责愈深。到底自己哪里做错了，是不该佯装诱饵被抓住，不该和迪奥搭档，不该来到魁堂学院，又或者根本就该拥有True Eyes的力量，无法听进任何人的话。他只知道，自己眼睛无法窥见“真实”了。&lt;/p&gt;
&lt;p&gt;最终，明日叶决定放弃成为Magnus Pica。 他要忘记所有人，忘记这段对他而言最重要的记忆，无论如何都不想失去的东西，以此作为对自己的惩罚。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;无法守护重要事物的我，不配拥有这些回忆&lt;br&gt;迪奥，如果能说出喜欢你就好了。为什么我连如此简单的事都没能做到呢。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;明日叶舍弃了Magnus Pica的身份，因此不得不抹去在美学行动科的所有记忆。转入普通学科的他，尽管对之前的事情全然不知，也渐渐失去了真实之眼的力量，但有些记忆会残留在人的身体里，成为本能。就像看到穆修，就会情不自禁的想摸摸他的头。想到某个记不起来的人时，脑中会窜过一阵剧痛。&lt;/p&gt;
&lt;p&gt;耳边时常响起来一个熟悉的声音，（迪奥充满磁性的宠溺音）却不知为何。&lt;/p&gt;
&lt;p&gt;一个平常的傍晚，一辆黑色的车停在了身边。走下来一个男人一把拥他入怀。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;我来接你了，gattino&lt;br&gt;让你久等了，对不起&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;虽然不认识这个拥抱住自己的人，可是熟悉的怀抱，熟悉的味道让明日叶不自觉地湿了眼眶，他知道的，这种一直想见他，无比思念的感情。可是，他到底是谁呢，为什么怎么也想不起来。明日叶颤抖着发问。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;明日叶：谁？&lt;br&gt;迪奥：嗯？&lt;br&gt;明日叶：你是谁？&lt;br&gt;迪奥：我是你的恋人，明日叶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;迪奥觉得明日叶的记忆被抹去未尝不是一件好事，没了手环的他也不会被追踪，反而更安全。两人就这样相拥在夕阳的余晖下，迪奥宽大的怀抱让人安心。既然迪奥回来了，一定已经解决了所有的事情，带着必将让明日叶幸福的决心，他信守承诺，来接他了……&lt;/p&gt;
&lt;h2 id=&quot;Lucky-Dog&quot;&gt;&lt;a href=&quot;#Lucky-Dog&quot; class=&quot;headerlink&quot; title=&quot;Lucky Dog&quot;&gt;&lt;/a&gt;Lucky Dog&lt;/h2&gt;&lt;p&gt;大爱的良心之作，每个角色都很有特色，主角Gian我也敲喜欢，贱贱的样儿（害羞）。lucky dog里的感点还是比较多的，一开始我和大部分人一样冲着人气很高，明明是冷酷杀手却意外反差萌的紫毛君来的，但四条线全通后，最爱的角色居然是我一开始最讨厌的感觉咋咋唬唬的伊万。&lt;/p&gt;
&lt;h3 id=&quot;Ivan-那天，我们与日月同在&quot;&gt;&lt;a href=&quot;#Ivan-那天，我们与日月同在&quot; class=&quot;headerlink&quot; title=&quot;Ivan: 那天，我们与日月同在&quot;&gt;&lt;/a&gt;Ivan: 那天，我们与日月同在&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://ww2.sinaimg.cn/large/904e587bjw1f862cpmr64j20lx0gh43h.jpg&quot; alt=&quot;垂暮之年的Ivan&quot;&gt;&lt;br&gt;这张图玩过的人绝对印象深刻。据说是官方的GE结局，揭示黑手党不争的现实。&lt;/p&gt;
&lt;p&gt;说实话，前一秒Gian还拖着病体赶到为Ivan求情，两人打情骂俏着回到医院，还在电梯里深情一吻，幸福的想让人流泪。可下一秒心电图的画面闪现，然后我就一脸萌比了。又看了几遍才明白了。一切不过是Ivan的垂暮之年，将死之人的一场回忆罢了。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;我终于要死了吗，一直以来我都在等待这个时刻的到来。&lt;br&gt;–大家，都在我之前去世了……&lt;br&gt;–有死在病床上的…..&lt;br&gt;－－也有死在下水道里的…….&lt;br&gt;–回过身来，发现只剩我一个人活着…….&lt;br&gt;–衰败不堪，身体腐朽…..&lt;br&gt;–剩下的，只有无用的公司和财产而已……..&lt;br&gt;–我…..直到现在….在意识的黑暗里，那些记忆无论何时都苏醒着。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;躺在病床上带着呼吸器的Ivan已经完全看不出他年轻时的模样了，我不知道他话里所说的死在病床上的那个人是不是Gian, 我只知道当时已经隐隐感觉Gian伤的其实非常重了。但如果真的如此，Ivan的孤独与寂寞从那时便已经开始，刚刚尝到了幸福的滋味，却没来得及好好珍惜。几十年里没有Gian在身边的煎熬，他又是如何忍受过来的。从不善于与人坦露心迹的他，又会在多少个夜里思念着Gian, 抱着仅有的回忆一夜难眠。&lt;br&gt;那天，劫后余生的他们在破旧的废船上笑的没心没肺，与一望无际的大海，与日月同在。&lt;br&gt;&lt;img src=&quot;http://ww4.sinaimg.cn/large/904e587bjw1f862jf5yc2j20m00glwoy.jpg&quot; alt=&quot;与日月同在&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;我曾经……有个兄弟…..现在，他也在——-&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ivan总是笨拙的表达着自己的感情，“内，我们是兄弟吧。”说不出口的爱，他反复向Gian确认着。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Ivan…….喂，我说Ivan啊….&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;冥冥之中，又听见了Gian温柔的呼唤着他的声音，是的，Gian一直都在等着你，你终于不必再害怕孤独，不必再忍受思念的煎熬了，Gian从来不曾离开过，就在那里等着你…..&lt;br&gt;［写着写着又哭死…..］&lt;/p&gt;
&lt;h3 id=&quot;Giulio-誓死守护你&quot;&gt;&lt;a href=&quot;#Giulio-誓死守护你&quot; class=&quot;headerlink&quot; title=&quot;Giulio: 誓死守护你&quot;&gt;&lt;/a&gt;Giulio: 誓死守护你&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://ww3.sinaimg.cn/large/904e587bjw1f862l0na3rj20lb0g579b.jpg&quot; alt=&quot;满身是血的Giulio&quot;&gt;&lt;br&gt;这张图，大家想必也印象深刻，又是哭死了多少人的一张图。&lt;br&gt;我们都知道Giulio的战斗力是很强的，可是再强，他也是会受伤，会死的。&lt;br&gt;Giulio救下了Gian, 也为此付出了生命的代价， 死前的最后一刻仍然担心着Gian的安危。可惜，以后不能再保护Gian桑了。从头到尾，Giulio一直注视着Gian, 恭恭敬敬地叫着Gian桑被Gian取笑却总也改不了口，在众人怀疑Gian的时候始终支持着他，甚至为了Gian去反抗自己的爷爷。&lt;br&gt;老实说，Giulio的某些行为是有些扭曲的，过早地被卷入家族斗争中，被当成杀人工具，被当作傀儡。尽管如此，他依然有自己的意志，有自己想要保护的人。&lt;br&gt;一开始很不明白，后来才知道，原来儿时的Giulio就已经见过Gian了，孤儿院那个抢了他糖果的小孩子。&lt;br&gt;在Giulio心里，一直觉得&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;能和你相遇，真好&lt;br&gt;能喜欢上你， 真好&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Giulio在除了杀人以外的各种方面上都显得很稚嫩，完完全全就是个孩子。&lt;br&gt;是和Gian的相遇，Gian的存在一直支撑着Giulio，第一次有人像普通人一样对待他。Gian是他的信仰，是他的追随，Gian在Giulio心中的地位远远超过了所有人的想象。&lt;br&gt;而事后被转述着这一切的Gian痛哭失声，为什么没有早一点想起来，为什么当时不能再冷静一些，为什么……可是，再多的懊悔也没用，Giulio再也不会回来了。&lt;/p&gt;
&lt;h3 id=&quot;两人的记忆&quot;&gt;&lt;a href=&quot;#两人的记忆&quot; class=&quot;headerlink&quot; title=&quot;两人的记忆&quot;&gt;&lt;/a&gt;两人的记忆&lt;/h3&gt;&lt;p&gt;啊呀呀呀，说是盘点感动瞬间，怎么变成悲惨瞬间了，赶紧来点甜的。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ww1.sinaimg.cn/large/904e587bjw1f862tfuab2j20ls0gbtdt.jpg&quot; alt=&quot;Giulio,Gian两人的记忆HE&quot;&gt;&lt;br&gt;这张应该是最幸福的Giulio和Gian的HE啦，（老觉得把我们可爱的Giulio画崩了）&lt;br&gt;一直埋藏在Giulio心底的记忆，属于两人的记忆在这一天被找回&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;我，能够喜欢上你－－&lt;br&gt;自己也终于能摆脱&lt;br&gt;我，也喜欢….喜欢着你的…..我自己….&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Giulio一点一点害羞又执着的吐露着内心的感情，Gian还不明所以，有些不好意思（笨蛋）。 其实，Gian对当初给他糖果的家伙一直很感激，在久违了的糖果味道中，Gian恍然大悟，原来当初的那个孩子就是面前的这个人啊，原来Giulio一直都记得。孤儿院里的钟声响起，仿佛一切又回到两人最初相遇的时刻，一个人温柔地微笑，一个人还带着一脸的惊讶，可是，结局我们已经看到了，属于两人的幸福未来就此开始了…….&lt;/p&gt;
&lt;p&gt;ps: Giulio的声音真是苏到不行啊&lt;/p&gt;
&lt;p&gt;早知道会写盘点，当初就该在所有关键时刻存档的。。。。555555&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;啊，因为种种原因，真的好久没有碰游戏了呢。之前一直卡在神无之鸟那儿， 果然这种偏日常系列的我还是不太感冒的。&lt;/p&gt;
&lt;p&gt;好的，废话少说，今天来盘点一下steal和lucky dog里的一些情节。这两个游戏我还是比较心水的，尤其是后者，简直大爱，每个角色的个人线部分编剧都非常走心。&lt;/p&gt;
&lt;p&gt;因为，玩的时间很久了，所以剧情描述可能有出入，欢迎补充和指正哟。&lt;/p&gt;
&lt;h2 id=&quot;Steal&quot;&gt;&lt;a href=&quot;#Steal&quot; class=&quot;headerlink&quot; title=&quot;Steal&quot;&gt;&lt;/a&gt;Steal&lt;/h2&gt;&lt;p&gt;steal里面可攻略的角色真是多啊，各式各样（色色色）！&lt;/p&gt;
&lt;p&gt;我对于银发是没有抵抗力的，所以一开始就对里面的桐生前辈很心水，结果这只居然是最鬼畜的。各个人物的线路总的来说一般，感点不多（我感点高？？）。不过我们可怜的兴前辈向明日叶诉说家里的长辈都说他不适合创作，只会临摹的人不可能啥啥啥的时候，明明很努力却不受认可，那副快哭出来的不知所措的样子我还是记忆尤深啊，心疼一把。&lt;/p&gt;
&lt;p&gt;&lt;Excerpt in index | 首页摘要&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
    
    </summary>
    
      <category term="腐女世界" scheme="xjinjin.net/categories/%E8%85%90%E5%A5%B3%E4%B8%96%E7%95%8C/"/>
    
    
      <category term="BL" scheme="xjinjin.net/tags/BL/"/>
    
      <category term="游戏" scheme="xjinjin.net/tags/%E6%B8%B8%E6%88%8F/"/>
    
      <category term="盘点" scheme="xjinjin.net/tags/%E7%9B%98%E7%82%B9/"/>
    
  </entry>
  
  <entry>
    <title>webpack构建静态多页应用项目框架</title>
    <link href="xjinjin.net/2016/08/20/webpack-multiple-page-static/"/>
    <id>xjinjin.net/2016/08/20/webpack-multiple-page-static/</id>
    <published>2016-08-19T17:02:10.000Z</published>
    <updated>2016-08-19T18:25:55.000Z</updated>
    
    <content type="html">&lt;p&gt;最近因为项目需求，需要使用webpack构建一个静态的多页应用，譬如主页网站之类。本文主要来解析一下按功能模块划分的项目结构，再重点分析webpack的配置文件。&lt;a href=&quot;https://github.com/jincui/webpack-multiplepage&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;项目源码github地址&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;view engine使用jade, css 预编译使用stylus，这个影响不大。&lt;br&gt;首先，我们来看一下项目的基本结构&lt;/p&gt;
&lt;p&gt;&lt;excerpt in=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 首页摘要=&quot;&quot;&gt;&lt;/excerpt&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;the rest=&quot;&quot; of=&quot;&quot; contents=&quot;&quot; |=&quot;&quot; 余下全文=&quot;&quot;&gt;&lt;h2 id=&quot;项目基本结构&quot;&gt;&lt;a href=&quot;#项目基本结构&quot; class=&quot;headerlink&quot; title=&quot;项目基本结构&quot;&gt;&lt;/a&gt;项目基本结构&lt;/h2&gt;&lt;/the&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- webpack-multiplepage&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; + build&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; - source&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   - components   ＃组件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     - common&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       + styles   #公共样式&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     + header    #头部组件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     + footer    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     - layout    #布局组件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       index.js   ＃layout入口文件，,可导入依赖，及写一些逻辑代码&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       layout.styl    #layout样式&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       bg.png&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       layout.jade   #页面布局jade，include了header.jade和footer.jade&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   - pages    ＃页面&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     + about   #关于模块&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     + help    #帮助模块&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     - index   #首页模块&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       index.jade    #首页内容，extends layout.jade&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       index.js    #首页入口文件,可导入依赖，及写一些逻辑代码&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       index.styl    #首页样式&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; .eslintrc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; .eslintignore&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; .gitignore&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; webpack.config.js    #webpack配置文件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; package.json&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; README.md&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;layout组件是所有页面公用的布局组件，各个页面入口以&lt;code&gt;require(&amp;#39;../../components/layout&amp;#39;)&lt;/code&gt;的方式引入，各个页面jade模版继承于layout.jade&lt;/p&gt;
&lt;p&gt;同时layout/index.js中&lt;code&gt;require(&amp;#39;../header&amp;#39;)&lt;/code&gt;和&lt;code&gt;require(&amp;#39;../footer&amp;#39;)&lt;/code&gt;的方式引入header和footer模块(可以直接将header,footer有关代码写在layout中，不单独拎出)&lt;/p&gt;
&lt;p&gt;项目上线时，以下是用webpack build之后的结果&lt;/p&gt;
&lt;h2 id=&quot;打包结果&quot;&gt;&lt;a href=&quot;#打包结果&quot; class=&quot;headerlink&quot; title=&quot;打包结果&quot;&gt;&lt;/a&gt;打包结果&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- build&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  - assets    #字体，图片资源&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    + fonts&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    + images&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  - common    #公用文件，包含了第三方依赖和抽离出来的公共代码&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    common.****.js  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    common.****.css&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  - about   ＃about模块&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    about.****.js   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    about.****.css&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    about.html&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  + help&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  - index&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    index.****.js&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    index.****.css&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  index.html    #index首页置于根目录，方便webpack监听&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;webpack-config-js文件解析&quot;&gt;&lt;a href=&quot;#webpack-config-js文件解析&quot; class=&quot;headerlink&quot; title=&quot;webpack.config.js文件解析&quot;&gt;&lt;/a&gt;webpack.config.js文件解析&lt;/h2&gt;&lt;p&gt;build过程可以通过webpack.config.js文件进行灵活的配置，下面详细解释该文件，请看注释。&lt;br&gt;有关webpack的用法和各个插件的用法可以查看&lt;a href=&quot;http://webpack.github.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官方文档&lt;/a&gt;，&lt;a href=&quot;http://webpack.github.io/docs/list-of-plugins.html#uglifyjsplugin&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;插件列表&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;118&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;119&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;120&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;121&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;122&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;123&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;124&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;125&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;126&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;127&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;128&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;129&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;130&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;131&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;132&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;133&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;134&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;135&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;136&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;137&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;138&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;139&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;140&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;141&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;142&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;143&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;144&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;145&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;146&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;147&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;148&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;149&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;150&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;151&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;152&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;153&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 依赖&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; webpack = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;webpack&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ExtractTextPlugin = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;extract-text-webpack-plugin&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; HtmlWebpackPlugin = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;html-webpack-plugin&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; CopyWebpackPlugin = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;copy-webpack-plugin&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; autoprefixer = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;autoprefixer&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; args = &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;yargs&#39;&lt;/span&gt;).argv;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 命令行传入的环境参数&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 可通过--prod,--mock传入&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; isProd = args.prod;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; isMock = args.mock;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; plugins = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// Automatically loaded modules&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; webpack.ProvidePlugin(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       $: &lt;span class=&quot;string&quot;&gt;&#39;jquery&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       jQuery: &lt;span class=&quot;string&quot;&gt;&#39;jquery&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;string&quot;&gt;&#39;window.jQuery&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;jquery&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// create global constants which can be configured at compile time&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; webpack.DefinePlugin(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       __PROD__: isProd,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       __MOCK__: isMock&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// 抽取公共模块&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; webpack.optimize.CommonsChunkPlugin(&lt;span class=&quot;string&quot;&gt;&#39;common&#39;&lt;/span&gt;, isProd ? &lt;span class=&quot;string&quot;&gt;&#39;common/common.[hash].js&#39;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&#39;common/common.js&#39;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// 对每个entry抽取css依赖,生成css文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// 注意：ExtractTextPlugin需在config的plugin及loader中一起使用&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ExtractTextPlugin(isProd ? &lt;span class=&quot;string&quot;&gt;&#39;[name]/[name].[contenthash].css&#39;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&#39;[name]/[name].css&#39;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// 热替换&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; webpack.HotModuleReplacementPlugin()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 生成html，并为html插入css,js等依赖&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 将首页的index.html 置于根目录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;plugins.push(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; HtmlWebpackPlugin(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       template: &lt;span class=&quot;string&quot;&gt;&#39;./source/pages/index/index.jade&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       filename: &lt;span class=&quot;string&quot;&gt;&#39;index.html&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       chunks: [&lt;span class=&quot;string&quot;&gt;&#39;common&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;index&#39;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; HtmlWebpackPlugin(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       template: &lt;span class=&quot;string&quot;&gt;&#39;./source/pages/help/help.jade&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       filename: &lt;span class=&quot;string&quot;&gt;&#39;help/index.html&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       chunks: [&lt;span class=&quot;string&quot;&gt;&#39;common&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;help&#39;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; HtmlWebpackPlugin(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       template: &lt;span class=&quot;string&quot;&gt;&#39;./source/pages/about/about.jade&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       filename: &lt;span class=&quot;string&quot;&gt;&#39;about/index.html&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       chunks: [&lt;span class=&quot;string&quot;&gt;&#39;common&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;about&#39;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; base = &lt;span class=&quot;string&quot;&gt;&#39;./&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 多个入口文件集合&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; entryJs = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   index: [base + &lt;span class=&quot;string&quot;&gt;&#39;/source/pages/index/index.js&#39;&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   help: [base + &lt;span class=&quot;string&quot;&gt;&#39;/source/pages/help/help.js&#39;&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   about: [base + &lt;span class=&quot;string&quot;&gt;&#39;/source/pages/about/about.js&#39;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 通用第三方模块 ，最后和抽离的公共模块合并&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;entryJs[&lt;span class=&quot;string&quot;&gt;&#39;common&#39;&lt;/span&gt;] = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// 3rd dependencies&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;string&quot;&gt;&#39;normalize.css/normalize.css&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;string&quot;&gt;&#39;bootstrap/dist/js/bootstrap.min&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;string&quot;&gt;&#39;bootstrap/dist/css/bootstrap.min.css&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;string&quot;&gt;&#39;font-awesome/css/font-awesome.min.css&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (isProd) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// 生产环境优化&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   plugins.push(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; webpack.NoErrorsPlugin(),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;comment&quot;&gt;// Search for equal or similar files and deduplicate them in the output.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; webpack.optimize.DedupePlugin(),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;comment&quot;&gt;// Minimize all JavaScript output of chunks&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; webpack.optimize.UglifyJsPlugin(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           compress: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               warnings: &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           mangle: &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;#125;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; webpack.optimize.OccurenceOrderPlugin()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;module&lt;/span&gt;.exports = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   entry: entryJs,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// 打包文件输出配置&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   output: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       path: base + &lt;span class=&quot;string&quot;&gt;&#39;build&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;comment&quot;&gt;// e.g index/index.****.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       filename: isProd ? &lt;span class=&quot;string&quot;&gt;&#39;[name]/[name].[hash].js&#39;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&#39;[name]/[name].js&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       chunkFilename: isProd ? &lt;span class=&quot;string&quot;&gt;&#39;[name]/[name].[hash].chunk.js&#39;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&#39;[name]/[name].chunk.js&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;built_in&quot;&gt;module&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       preLoaders: [&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           test: &lt;span class=&quot;regexp&quot;&gt;/\.js$/&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           loader: &lt;span class=&quot;string&quot;&gt;&#39;eslint&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           exclude: &lt;span class=&quot;regexp&quot;&gt;/node_modules/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;#125;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       loaders: [&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           test: &lt;span class=&quot;regexp&quot;&gt;/\.html$/&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           loader: &lt;span class=&quot;string&quot;&gt;&#39;html&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;#125;, &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           test: &lt;span class=&quot;regexp&quot;&gt;/\.jade$/&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           loader: &lt;span class=&quot;string&quot;&gt;&#39;jade&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;#125;, &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           test: &lt;span class=&quot;regexp&quot;&gt;/\.styl$/&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           loader: ExtractTextPlugin.extract(&lt;span class=&quot;string&quot;&gt;&#39;vue-style&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;css?sourceMap!postcss!stylus&#39;&lt;/span&gt;, &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             &lt;span class=&quot;comment&quot;&gt;// 指定build根目录对css打包存储位置的路径，默认css直接放在根目录下&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             &lt;span class=&quot;comment&quot;&gt;// 各个css均被打包到build/*/文件夹中，所以路径为&#39;../&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               publicPath: &lt;span class=&quot;string&quot;&gt;&#39;../&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;#125;, &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           test: &lt;span class=&quot;regexp&quot;&gt;/\.css$/&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           loader: ExtractTextPlugin.extract(&lt;span class=&quot;string&quot;&gt;&#39;vue-style&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;css?sourceMap&#39;&lt;/span&gt;, &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               publicPath: &lt;span class=&quot;string&quot;&gt;&#39;../&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;#125;, &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           test: &lt;span class=&quot;regexp&quot;&gt;/\.(woff|woff2|ttf|eot|svg)(\?]?.*)?$/&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           loader: &lt;span class=&quot;string&quot;&gt;&#39;file?name=assets/fonts/[name].[ext]?[hash]&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;#125;, &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           test: &lt;span class=&quot;regexp&quot;&gt;/\.(png|jpg)$/&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           loader: &lt;span class=&quot;string&quot;&gt;&#39;url?limit=8192&amp;amp;name=assets/images/[name].[hash].[ext]&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;#125;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   plugins: plugins,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   debug: !isProd,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// sourceMap的几种模式差别解析，可参考https://segmentfault.com/a/1190000004280859这篇文章&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   devtool: isProd ? &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&#39;eval-cheap-module-source-map&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// 可访问localhost:8080查看效果&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   devServer: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       contentBase: base + &lt;span class=&quot;string&quot;&gt;&#39;build&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       historyApiFallback: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       inline: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       stats: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           modules: &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           cached: &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           colors: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           chunk: &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       host: &lt;span class=&quot;string&quot;&gt;&#39;0.0.0.0&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       port: &lt;span class=&quot;number&quot;&gt;8080&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;// 使用postcss自动给css样式加前缀&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   postcss: &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [autoprefixer];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;配置优化&quot;&gt;&lt;a href=&quot;#配置优化&quot; class=&quot;headerlink&quot; title=&quot;配置优化?&quot;&gt;&lt;/a&gt;配置优化?&lt;/h3&gt;&lt;p&gt;以上的webpack配置有一个小小的问题，就是每次我添加一个新的页面模块时，比如product页面，需要手动在webpack.config文件里添加一个entry入口和HtmlWebpackPlugin。所以可以尝试用以下的的方法解决。&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// npm install --save-dev glob&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; getFiles = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;filepath&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; files = glob.sync(filepath);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; entries = &amp;#123;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; files.forEach(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;item&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; pathname = path.basename(item, path.extname(item))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   entries[pathname] = item;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; entries;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; pages = getFiles(&lt;span class=&quot;string&quot;&gt;&#39;./source/pages/*/*.jade&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 生成html，插入依赖&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;.keys(pages).forEach(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;pageName&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   plugins.push(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; HtmlWebpackPlugin(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         template: &lt;span class=&quot;string&quot;&gt;&#39;./source/pages/&#39;&lt;/span&gt;+ pageName+ &lt;span class=&quot;string&quot;&gt;&#39;/&#39;&lt;/span&gt; pageName + &lt;span class=&quot;string&quot;&gt;&#39;.jade&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         filename: pageName +&lt;span class=&quot;string&quot;&gt;&#39;.html&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         chunks: [ &lt;span class=&quot;string&quot;&gt;&#39;vendor&#39;&lt;/span&gt;, pageName],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; entryJs = getFiles(&lt;span class=&quot;string&quot;&gt;&#39;./source/pages/*/*.js&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;遵循目录结构的话，这样写应该不会有什么问题。&lt;/p&gt;
&lt;h2 id=&quot;demo效果&quot;&gt;&lt;a href=&quot;#demo效果&quot; class=&quot;headerlink&quot; title=&quot;demo效果&quot;&gt;&lt;/a&gt;demo效果&lt;/h2&gt;&lt;p&gt;仅仅搭了一个架子，尚未进行项目编写，后续可能遇到一些实际问题，再做补充。&lt;br&gt;最后放一张运行结果图&lt;br&gt;&lt;img src=&quot;http://ww4.sinaimg.cn/large/904e587bjw1f6zlja79o5j21kw0xddmk.jpg&quot; alt=&quot;demo运行图&quot;&gt;&lt;/p&gt;
&lt;p&gt;参考项目：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/PinkyJie/angular1-webpack-starter&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;angular1-webpack-starter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/vhtml/webpack-MultiPage-static&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;webpack-MultiPage-static&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;最近因为项目需求，需要使用webpack构建一个静态的多页应用，譬如主页网站之类。本文主要来解析一下按功能模块划分的项目结构，再重点分析webpack的配置文件。&lt;a href=&quot;https://github.com/jincui/webpack-multiplepage&quot;&gt;项目源码github地址&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;view engine使用jade, css 预编译使用stylus，这个影响不大。&lt;br&gt;首先，我们来看一下项目的基本结构&lt;/p&gt;
&lt;p&gt;&lt;Excerpt in index | 首页摘要&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
    
    </summary>
    
      <category term="编程" scheme="xjinjin.net/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="webpack" scheme="xjinjin.net/tags/webpack/"/>
    
      <category term="架构" scheme="xjinjin.net/tags/%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>BL游戏盘点感动瞬间（一）——鬼畜眼镜，lamento</title>
    <link href="xjinjin.net/2016/08/14/bl-game-moved/"/>
    <id>xjinjin.net/2016/08/14/bl-game-moved/</id>
    <published>2016-08-14T14:02:24.000Z</published>
    <updated>2016-08-16T11:39:15.000Z</updated>
    
    <content type="html">&lt;p&gt;作为一个腐女，玩了很久的BL文字冒险游戏，有画风赞的，有剧情赞的，有BGM赞的。每每那些精彩直戳泪点的瞬间，让人爱到心碎。&lt;/p&gt;
&lt;p&gt;所以特地开个系列来诉说那一段段感人肺腑的故事，欢迎同感者来交流。&lt;/p&gt;
&lt;h2 id=&quot;鬼畜眼镜&quot;&gt;&lt;a href=&quot;#鬼畜眼镜&quot; class=&quot;headerlink&quot; title=&quot;鬼畜眼镜&quot;&gt;&lt;/a&gt;鬼畜眼镜&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://ww2.sinaimg.cn/large/904e587bjw1f5mg3sa7nhj20ma0gm43x.jpg&quot; alt=&quot;鬼畜眼镜图&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;excerpt in=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 首页摘要=&quot;&quot;&gt;&lt;/excerpt&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;the rest=&quot;&quot; of=&quot;&quot; contents=&quot;&quot; |=&quot;&quot; 余下全文=&quot;&quot;&gt;

&lt;/the&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;蜜豆桑和眼镜克哉重逢&quot;&gt;&lt;a href=&quot;#蜜豆桑和眼镜克哉重逢&quot; class=&quot;headerlink&quot; title=&quot;蜜豆桑和眼镜克哉重逢&quot;&gt;&lt;/a&gt;蜜豆桑和眼镜克哉重逢&lt;/h3&gt;&lt;p&gt;首当其冲的必然是鬼畜眼镜的这张了（翻来翻去就这张比较有记忆点了），蜜豆桑的GE线是我非常喜欢的线，蜜豆桑真的好傲娇啊！&lt;br&gt;眼睛克哉在对御堂实施了一系列“惨无人道”的鬼畜行径后，看着逐渐丧失生气的御堂，终于恍然大悟，原来自己所做的这一切只是出于喜欢，只是天真的以为把他的一切夺过来之后，自己就能得到他。一番悔悟后，克哉决定放开御堂，让一切重归于零。&lt;/p&gt;
&lt;p&gt;然后命运让两人再次相遇，此时的御堂已经恢复了以往的神采。而克哉装作陌生人一般的口吻触动了他的内心。&lt;/p&gt;
&lt;p&gt;白茫茫的雪夜，御堂最终还是追到了克哉的身边，质问他，他对他来说已经什么都不算了嘛&lt;/p&gt;
&lt;p&gt;尽管克哉装作无所谓，御堂还是忍不住将自己地心意袒露，明明觉得自己那么恨他，明明把一切与克哉有关的东西都销毁，明明那么努力地想忘记他，却始终是徒劳，克哉已经在他的心里留下深深地烙印。&lt;/p&gt;
&lt;p&gt;讶异御堂的表白之际，克哉将御堂揽入怀中，深深地吻上渴慕已久的唇。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;克哉：“我的表白一年前你已经听过了，现在轮到你了。”&lt;br&gt;御堂：“…..喜欢…..”&lt;br&gt;克哉：“我听不到哦”&lt;br&gt;御堂：“…….喜欢你“&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;lamento&quot;&gt;&lt;a href=&quot;#lamento&quot; class=&quot;headerlink&quot; title=&quot;lamento&quot;&gt;&lt;/a&gt;lamento&lt;/h2&gt;&lt;p&gt;接下来就是lamento啦，其实lamento三条线都比较像，大白，小黑和大叔都因为各种各样的原因堕入黑暗，而柯诺尔就是拯救他们心灵的那抹光明&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ww2.sinaimg.cn/large/904e587bjw1f5mg5zeytpj20lr0gdwhb.jpg&quot; alt=&quot;大白相爱相杀图&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;莱伊柯诺尔相爱相杀&quot;&gt;&lt;a href=&quot;#莱伊柯诺尔相爱相杀&quot; class=&quot;headerlink&quot; title=&quot;莱伊柯诺尔相爱相杀&quot;&gt;&lt;/a&gt;莱伊柯诺尔相爱相杀&lt;/h3&gt;&lt;p&gt;大白一直宣称自己只是因为柯诺尔赞牙地身份才把他留在身边，对柯诺尔也一直很冷淡。强大的外壳之下势必隐藏着一颗脆弱的心灵，从小得不到父母关爱的大白，开始渴求杀戮，对被撕裂者流出的鲜血变态般的感到温暖。&lt;/p&gt;
&lt;p&gt;他发觉了，自己的意识总有一天会被隐藏的欲望所吞噬，他开始害怕，甚至抗拒柯诺尔的接触。柯诺尔看着这样的莱伊，实在无法放任不管，他向大白承诺，如果有一天，他真的堕入黑暗再也回不来了，那么他一定会亲手了结他。&lt;/p&gt;
&lt;p&gt;万万没想到，最终的厮杀场上，真的迎来了这样的时刻，柯诺尔万分心痛，但依然摒弃懦弱，将剑刺进了彼此的胸口。&lt;/p&gt;
&lt;p&gt;最后一刻，他安静的闭上眼睛，感受着彼此最后的温度，就这样怀抱着彼此死去，是否也是一种不错的结局呢。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ww2.sinaimg.cn/large/904e587bjw1f5mg6aq99dj20m00g80wg.jpg&quot; alt=&quot;小黑忠犬图&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;阿萨多带着柯诺尔重归故里&quot;&gt;&lt;a href=&quot;#阿萨多带着柯诺尔重归故里&quot; class=&quot;headerlink&quot; title=&quot;阿萨多带着柯诺尔重归故里&quot;&gt;&lt;/a&gt;阿萨多带着柯诺尔重归故里&lt;/h3&gt;&lt;p&gt;小黑简直是忠犬，哦不，忠猫啊。&lt;/p&gt;
&lt;p&gt;作为禁忌之子，小黑从小就不受奈良群族的待见，因为帮助了柯诺尔，而遭受了整个奈良的驱逐和追杀。是柯诺尔改变了他的信仰，带他来到了外面的世界，而柯诺尔也成了他唯一的追随。&lt;/p&gt;
&lt;p&gt;打破禁忌的惩罚就是阿萨多背负的血脉，他是不详的存在，是恶魔之子。柯诺尔读取阿萨多母亲遗物的记忆，告诉阿萨多即便中间有几多绝望和痛苦，但他的母亲到最后一刻，仍然觉得能遇见他的父亲，能生下他是此生最大的美好。&lt;/p&gt;
&lt;p&gt;拼尽全力与自身的诅咒去抵抗，仍然一步步沦陷，阿萨多开始逃避柯诺尔，他怕自己有一天变的丑陋不堪，会伤害到他，会被再次抛弃。&lt;/p&gt;
&lt;p&gt;最后，在大魔王利克斯的驱使下，阿萨多完全失去了理性，堕落成了恶魔一般的存在。柯诺尔竭力挽回，但伤口的疼痛让他难以集中精神，阿萨多命在旦夕，柯诺尔咬牙斩断了自己的手臂，最终在柯诺尔，阿萨多的父亲，莱伊等一众人的努力下，战争终于结束。&lt;/p&gt;
&lt;p&gt;恢复意识的阿萨多，看到柯诺尔德的手，顿时泪如雨下，悔恨交加。&lt;br&gt;而柯诺尔只是温柔的抱着他，告诉他，我没事，不痛了。&lt;/p&gt;
&lt;p&gt;一切恍如梦一般逝去，除了柯诺尔手上的残缺，好像没什么能证明那场战争的存在……..不安分的柯诺尔试图像往常一样去爬树，却无法像以往一样灵活，不慎摔下来，却正好落入阿萨多的怀抱。&lt;/p&gt;
&lt;p&gt;阿萨多看着他的伤口，眼里的愧疚不言而喻。柯诺尔小心的遮住，尽管现在还时常隐隐作痛，尽管那场战争遗留下的利克斯的记忆让他每每从噩梦中惊醒，但身边有阿萨多的陪伴，那样小心翼翼的眼神看着他，一切也都不那么可怕了。&lt;/p&gt;
&lt;p&gt;樱花飞舞之际，阿萨多决定重回奈良，现在的他已经变得足够强大去面对一切，更重要的，身边有柯诺尔的陪伴…….&lt;/p&gt;
&lt;p&gt;不得不提，修伊和利克斯是lamento最大的泪点。三条线的GE全通，才能完整的了解这两个人之间的事情，心疼利克斯，那样强烈的恨，是因为那样炽烈的爱。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://ww2.sinaimg.cn/large/904e587bjw1f5mg6mpiohj21ci0tuwma.jpg&quot; alt=&quot;利克斯修伊图&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“就算全世界要将你抹杀，我也不会将你忘记”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这应该是修伊要对利克斯说的吧………即便已经死去，修伊仍然用自己最后的灵魂，借助柯诺尔的身体将他的感情诉说给利克斯听。&lt;/p&gt;
&lt;p&gt;他从来没有想过要背叛利克斯，甚至当别人以权位为要挟时，他毅然决然了选择了利克斯。当他得知阴谋赶到的时候，大火已经吞噬了一切，他自责自己为何那么不小心被人跟踪，导致利克斯丧命。生命像一下子失去了颜色，然而他低估了猫性的黑暗面，他们除了想杀利克斯，也想杀了和“恶魔”来往的他。&lt;/p&gt;
&lt;p&gt;利克斯，居于深山，潜心研究的伟大魔法师。猫们害怕他，认为他是邪恶的，他也不屑与他们来往。然而平静的生活却某一天被一只叫修伊的小猫打破，纠缠不休。利克斯从来没见过这样的猫，既不害怕他，还想跟他做朋友。渐渐地，他们成了好朋友，修伊向他诉说着外面世界的美好，而利克斯从来没有这样去信任过谁，他对他的感情甚至超越了朋友。&lt;/p&gt;
&lt;p&gt;突如其来的绞杀，让利克斯愤恨到了极点，那条路是他专门为修伊开辟的，除了他，不可能有任何人知道。&lt;br&gt;说好的约定呢，说好的明天呢，全部都是谎言，他以为修伊和那帮人一样，接近他，只是为了有一天能杀了他。&lt;/p&gt;
&lt;p&gt;失去了理智的利克斯，为了报复修伊，拿修伊的孩子，也就是柯诺尔做情感容器，让他去承载那份罪恶。&lt;/p&gt;
&lt;p&gt;最后的最后，修伊借助柯诺尔唱出了那首曾经约定好的为利克斯而写的歌，利克斯才终于明白，原来自己之所以会那么憎恨，是因为自己对修伊，对他，曾经，包括现在，是那么的………..&lt;/p&gt;
&lt;p&gt;柯诺尔有时在想，利克斯不惜把世界搅得翻天覆地，是不是只是为了能再见修伊一面呢………&lt;/p&gt;
&lt;p&gt;话说, lamento的每个GE结局都非常温馨，但BE就简直惨无人道，我那么可爱的柯诺尔怎么能被四个恶魔染指呢。。。&lt;/p&gt;
&lt;p&gt;可惜他不像鬼畜那样，回想只有H部分的戏码，所以有些剧情记不太清了哈，欢迎指正和补充，嘻嘻嘻……..&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;作为一个腐女，玩了很久的BL文字冒险游戏，有画风赞的，有剧情赞的，有BGM赞的。每每那些精彩直戳泪点的瞬间，让人爱到心碎。&lt;/p&gt;
&lt;p&gt;所以特地开个系列来诉说那一段段感人肺腑的故事，欢迎同感者来交流。&lt;/p&gt;
&lt;h2 id=&quot;鬼畜眼镜&quot;&gt;&lt;a href=&quot;#鬼畜眼镜&quot; class=&quot;headerlink&quot; title=&quot;鬼畜眼镜&quot;&gt;&lt;/a&gt;鬼畜眼镜&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://ww2.sinaimg.cn/large/904e587bjw1f5mg3sa7nhj20ma0gm43x.jpg&quot; alt=&quot;鬼畜眼镜图&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;Excerpt in index | 首页摘要&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
    
    </summary>
    
      <category term="腐女世界" scheme="xjinjin.net/categories/%E8%85%90%E5%A5%B3%E4%B8%96%E7%95%8C/"/>
    
    
      <category term="BL" scheme="xjinjin.net/tags/BL/"/>
    
      <category term="游戏" scheme="xjinjin.net/tags/%E6%B8%B8%E6%88%8F/"/>
    
      <category term="盘点" scheme="xjinjin.net/tags/%E7%9B%98%E7%82%B9/"/>
    
  </entry>
  
  <entry>
    <title>js数字format转换代码，带千，万，百万单位</title>
    <link href="xjinjin.net/2016/08/12/unit-conversion/"/>
    <id>xjinjin.net/2016/08/12/unit-conversion/</id>
    <published>2016-08-12T13:30:37.000Z</published>
    <updated>2016-08-12T17:27:32.000Z</updated>
    
    <content type="html">&lt;p&gt;所谓带单位，就是实现1000-&amp;gt;1千，259999-&amp;gt;25万，10020002-&amp;gt;1千万类似这样的处理&lt;/p&gt;
&lt;p&gt;在介绍format的snippet之前，先来介绍一个很好用的库（虽然并没有什么关系）, &lt;a href=&quot;http://numeraljs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;numeral.js&lt;/a&gt;, 有很多format的功能，譬如百分比转换，货币转换，单位换算，还能unformat, 配置不同的语言转换标准，真的十分强大。&lt;/p&gt;
&lt;p&gt;&lt;excerpt in=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 首页摘要=&quot;&quot;&gt;&lt;/excerpt&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;the rest=&quot;&quot; of=&quot;&quot; contents=&quot;&quot; |=&quot;&quot; 余下全文=&quot;&quot;&gt;

&lt;/the&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;事实上，numeral.js库也提供了诸如这样的numeral(1000).format(‘0 a’) =&amp;gt; 1 千 加单位的format功能，配置好中文语言标准即可。然而，似乎只能以3位分割，匹配到千，百万，亿这种（也许文档没看仔细），可我还想要万，千万呢，又或者自由位数分割，于是就有了下面这段代码。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;NumberUpperFormat&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;input&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// num - 位数&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 简单理解后面要有三个0，则是千，4个零，则是万。当然不一定是零，位数到了就行，反正都会省略掉（未做四舍五入）&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 可以随意的增删改units内容实现单位的配置&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; units = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &amp;#123;num: &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, unit: &lt;span class=&quot;string&quot;&gt;&#39;千&#39;&lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &amp;#123;num: &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, unit: &lt;span class=&quot;string&quot;&gt;&#39;万&#39;&lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &amp;#123;num: &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;, unit: &lt;span class=&quot;string&quot;&gt;&#39;百万&#39;&lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &amp;#123;num: &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;, unit: &lt;span class=&quot;string&quot;&gt;&#39;千万&#39;&lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &amp;#123;num: &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;, unit: &lt;span class=&quot;string&quot;&gt;&#39;亿&#39;&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 精确到整数，直接用js自带方法input.toFixed(0)也可以&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; num = numeral(input).format(&lt;span class=&quot;string&quot;&gt;&#39;0&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (num.length &amp;lt;= &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// 项目相关需求，千以下不加单位&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; num;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 保证前面至少留一位&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; len = num.length - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; isFind = &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, length = units.length; i &amp;lt; length; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; item = units[i];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (len &amp;gt;= item.num &amp;amp;&amp;amp; len &amp;lt; units[i + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;].num) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                isFind = &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (i === (length - &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                isFind = &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                item = units[++i];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (isFind) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// 确认区间后，返回前几位加上单位&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;`&lt;span class=&quot;subst&quot;&gt;$&amp;#123;num.slice(0, num.length - item.num)&amp;#125;&lt;/span&gt;&lt;span class=&quot;subst&quot;&gt;$&amp;#123;item.unit&amp;#125;&lt;/span&gt;`&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这段代码还有些坚固性等方面的问题，欢迎补充！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;所谓带单位，就是实现1000-&amp;gt;1千，259999-&amp;gt;25万，10020002-&amp;gt;1千万类似这样的处理&lt;/p&gt;
&lt;p&gt;在介绍format的snippet之前，先来介绍一个很好用的库（虽然并没有什么关系）, &lt;a href=&quot;http://numeraljs.com/&quot;&gt;numeral.js&lt;/a&gt;, 有很多format的功能，譬如百分比转换，货币转换，单位换算，还能unformat, 配置不同的语言转换标准，真的十分强大。&lt;/p&gt;
&lt;p&gt;&lt;Excerpt in index | 首页摘要&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
    
    </summary>
    
      <category term="编程" scheme="xjinjin.net/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="javascript" scheme="xjinjin.net/tags/javascript/"/>
    
      <category term="snippet" scheme="xjinjin.net/tags/snippet/"/>
    
  </entry>
  
  <entry>
    <title>透明背景,可编辑下拉框</title>
    <link href="xjinjin.net/2016/07/15/transparent-editable-select/"/>
    <id>xjinjin.net/2016/07/15/transparent-editable-select/</id>
    <published>2016-07-15T14:04:34.000Z</published>
    <updated>2016-07-16T02:46:47.000Z</updated>
    
    <content type="html">&lt;p&gt;可编辑的下拉框似乎已经有很多实现了，无非是加上一个input，配合监听事件，不过小金金偏爱透明的控件，所有实现有点变化。&lt;br&gt;依旧是非图片实现（没准，有图片会更方便）&lt;/p&gt;
&lt;p&gt;实现效果&lt;br&gt;&lt;img src=&quot;http://ww4.sinaimg.cn/large/904e587bgw1f5vjav1q5ig204102ndgw.gif&quot; alt=&quot;透明可编辑下拉框&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;excerpt in=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 首页摘要=&quot;&quot;&gt;&lt;/excerpt&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;the rest=&quot;&quot; of=&quot;&quot; contents=&quot;&quot; |=&quot;&quot; 余下全文=&quot;&quot;&gt;

&lt;/the&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;基本实现&quot;&gt;&lt;a href=&quot;#基本实现&quot; class=&quot;headerlink&quot; title=&quot;基本实现&quot;&gt;&lt;/a&gt;基本实现&lt;/h2&gt;&lt;h3 id=&quot;代码&quot;&gt;&lt;a href=&quot;#代码&quot; class=&quot;headerlink&quot; title=&quot;代码&quot;&gt;&lt;/a&gt;代码&lt;/h3&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;select-box&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;maxlength&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;2&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;10&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;show-select&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;select&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;data&#39;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;bottom-select&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;option&lt;/span&gt;&amp;gt;&lt;/span&gt;5&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;option&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;option&lt;/span&gt;&amp;gt;&lt;/span&gt;10&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;option&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;option&lt;/span&gt;&amp;gt;&lt;/span&gt;20&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;option&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;select&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;select&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;position&lt;/span&gt;: absolute;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;: none;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;:white;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;50px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;20px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;top&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;40px&lt;/span&gt;;&lt;span class=&quot;attribute&quot;&gt;left&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;75px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;border-color&lt;/span&gt;: white;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;selector-class&quot;&gt;.show-select&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;z-index&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;pointer-events&lt;/span&gt;: none;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;selector-class&quot;&gt;.bottom-select&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;z-index&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;:transparent&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;selector-tag&quot;&gt;input&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;z-index&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;: white;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;: none;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;position&lt;/span&gt;: absolute;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;30px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;20px&lt;/span&gt;;&lt;span class=&quot;attribute&quot;&gt;line-height&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;20px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;left&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;80px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;top&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;38px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;text-align&lt;/span&gt;: center;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attribute&quot;&gt;border&lt;/span&gt;: none;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;详解&quot;&gt;&lt;a href=&quot;#详解&quot; class=&quot;headerlink&quot; title=&quot;详解&quot;&gt;&lt;/a&gt;详解&lt;/h3&gt;&lt;p&gt;不变的结构是，用input覆盖在select上响应用户输入，排版对齐什么不用说啦&lt;br&gt;结合css来看，回答几个问题&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;为什么要用两个select&lt;br&gt;A: 由于所有控件都是透明背景，所以为了既显示出select的可点击部分，又隐藏select中间的内容部分，使用show-select显示控件，使用bottom-select响应事件&lt;/li&gt;
&lt;li&gt;pointer-events是什么&lt;br&gt;A: pointer-events设为none,&lt;strong&gt;则该元素永远不会成为鼠标事件的target&lt;/strong&gt;,故可以点击到最底层的bottom-select&lt;br&gt;具体使用可见&lt;a href=&quot;http://www.css88.com/book/css/properties/user-interface/pointer-events.htm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;pointer-events属性详解&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;这样就够了嘛&lt;br&gt;A: 当然…..不够，还需要js监听select的change事件&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$(&lt;span class=&quot;string&quot;&gt;&#39;#data&#39;&lt;/span&gt;).change(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    $(&lt;span class=&quot;string&quot;&gt;&#39;input&#39;&lt;/span&gt;).val($(&lt;span class=&quot;string&quot;&gt;&#39;#data&#39;&lt;/span&gt;).find(&lt;span class=&quot;string&quot;&gt;&#39;option:selected&#39;&lt;/span&gt;).text())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;可编辑的下拉框似乎已经有很多实现了，无非是加上一个input，配合监听事件，不过小金金偏爱透明的控件，所有实现有点变化。&lt;br&gt;依旧是非图片实现（没准，有图片会更方便）&lt;/p&gt;
&lt;p&gt;实现效果&lt;br&gt;&lt;img src=&quot;http://ww4.sinaimg.cn/large/904e587bgw1f5vjav1q5ig204102ndgw.gif&quot; alt=&quot;透明可编辑下拉框&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;Excerpt in index | 首页摘要&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
    
    </summary>
    
      <category term="编程" scheme="xjinjin.net/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="小控件" scheme="xjinjin.net/tags/%E5%B0%8F%E6%8E%A7%E4%BB%B6/"/>
    
      <category term="css" scheme="xjinjin.net/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>web app透明渐变的导航栏</title>
    <link href="xjinjin.net/2016/07/06/transparent-nav/"/>
    <id>xjinjin.net/2016/07/06/transparent-nav/</id>
    <published>2016-07-06T12:35:12.000Z</published>
    <updated>2016-07-06T12:57:42.000Z</updated>
    
    <content type="html">&lt;p&gt;这种透明渐变的导航栏就是我们经常看到的随用户滚动改变透明度的导航栏，本次主要通过background-color的rgba值来实现&lt;/p&gt;
&lt;p&gt;原理：监听window的scroll事件，根据滚动值动态设置rgba值&lt;/p&gt;
&lt;p&gt;&lt;excerpt in=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 首页摘要=&quot;&quot;&gt;&lt;/excerpt&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;the rest=&quot;&quot; of=&quot;&quot; contents=&quot;&quot; |=&quot;&quot; 余下全文=&quot;&quot;&gt;

&lt;/the&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下图为一个简单的实现效果&lt;br&gt;&lt;img src=&quot;http://ww3.sinaimg.cn/large/904e587bjw1f5kfdid90og20940fcduf.gif&quot; alt=&quot;实现效果&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;最简实现&quot;&gt;&lt;a href=&quot;#最简实现&quot; class=&quot;headerlink&quot; title=&quot;最简实现&quot;&gt;&lt;/a&gt;最简实现&lt;/h2&gt;&lt;p&gt;html,css准备,一个nav bar，大家都会写的咯^.^&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;header&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;header&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;background-color: rgba(247,247,247,0)&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;transparent_nav&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;img/back.png&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;导航栏&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;header&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.transparent_nav&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;position&lt;/span&gt;: fixed;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;top&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;left&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;right&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;44px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;display&lt;/span&gt;: block;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;接下来就是js部分，将window.scrollY减去一个基线值，如0,再将差与一个固定的offset值比较，如150，得出此时的rgba中的a值&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; header = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.getElementById(&lt;span class=&quot;string&quot;&gt;&quot;header&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&quot;scroll&quot;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// top-0  offset-150&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    header.style.backgroundColor = &lt;span class=&quot;string&quot;&gt;&quot;rgba(247,247,247,&quot;&lt;/span&gt;+(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.scrollY&lt;span class=&quot;number&quot;&gt;-0&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;150&lt;/span&gt;+&lt;span class=&quot;string&quot;&gt;&quot;)&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;进阶实现&quot;&gt;&lt;a href=&quot;#进阶实现&quot; class=&quot;headerlink&quot; title=&quot;进阶实现&quot;&gt;&lt;/a&gt;进阶实现&lt;/h2&gt;&lt;p&gt;将透明渐变方法封装一下，使得其可复用&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; Transparent = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;element,option&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.element = element;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.option = option || &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				offset:&lt;span class=&quot;number&quot;&gt;150&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				top:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._style = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.element.style&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._bgColor = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._style.backgroundColor&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; color = getColor(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._bgColor)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.R = color[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.G = color[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.B = color[&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.handleScroll = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._style.backgroundColor = &lt;span class=&quot;string&quot;&gt;&quot;rgba(&quot;&lt;/span&gt;+&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.R+&lt;span class=&quot;string&quot;&gt;&quot;,&quot;&lt;/span&gt;+&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.G+&lt;span class=&quot;string&quot;&gt;&quot;,&quot;&lt;/span&gt;+&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.B+&lt;span class=&quot;string&quot;&gt;&quot;,&quot;&lt;/span&gt;+(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.scrollY-&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.option.top)/&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.option.offset+&lt;span class=&quot;string&quot;&gt;&quot;)&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	        &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;scroll&#39;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.handleScroll);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	  Transparent(header)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;其中，getColor方法的作用是提取rgba的四个参数值，以数组形式返回，可以通过正则匹配，或者最简单的substring,split,想怎么实现这么实现咯！！&lt;/p&gt;
&lt;p&gt;就这么简单就完啦，撒花，撒花！！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;这种透明渐变的导航栏就是我们经常看到的随用户滚动改变透明度的导航栏，本次主要通过background-color的rgba值来实现&lt;/p&gt;
&lt;p&gt;原理：监听window的scroll事件，根据滚动值动态设置rgba值&lt;/p&gt;
&lt;p&gt;&lt;Excerpt in index | 首页摘要&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
    
    </summary>
    
      <category term="编程" scheme="xjinjin.net/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="javascript" scheme="xjinjin.net/tags/javascript/"/>
    
      <category term="html" scheme="xjinjin.net/tags/html/"/>
    
  </entry>
  
  <entry>
    <title>自定义android时间轴控件</title>
    <link href="xjinjin.net/2016/06/03/timeline-of-android/"/>
    <id>xjinjin.net/2016/06/03/timeline-of-android/</id>
    <published>2016-06-03T11:26:20.000Z</published>
    <updated>2016-06-03T17:06:19.000Z</updated>
    
    <content type="html">&lt;p&gt;其实没什么技术难点，采用原生的ListView实现，重点反而在layout布局上(RelativeLayout真是强大)。&lt;/p&gt;
&lt;p&gt;先来展示一下最终效果&lt;/p&gt;
&lt;p&gt;&lt;excerpt in=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 首页摘要=&quot;&quot;&gt;&lt;/excerpt&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;the rest=&quot;&quot; of=&quot;&quot; contents=&quot;&quot; |=&quot;&quot; 余下全文=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://ww4.sinaimg.cn/mw690/ea514745jw1f4iieg7126j20u01e0428.jpg&quot; width=&quot;300&quot; height=&quot;auto&quot; alt=&quot;时间轴见图&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://ww2.sinaimg.cn/mw690/ea514745jw1f4iivvvv33j20u01e0gou.jpg&quot; width=&quot;300&quot; height=&quot;auto&quot; alt=&quot;时间轴见图&quot;&gt;&lt;/the&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;最简实现&quot;&gt;&lt;a href=&quot;#最简实现&quot; class=&quot;headerlink&quot; title=&quot;最简实现&quot;&gt;&lt;/a&gt;最简实现&lt;/h2&gt;&lt;h3 id=&quot;第一步，准备layout文件&quot;&gt;&lt;a href=&quot;#第一步，准备layout文件&quot; class=&quot;headerlink&quot; title=&quot;第一步，准备layout文件&quot;&gt;&lt;/a&gt;第一步，准备layout文件&lt;/h3&gt;&lt;p&gt;首先是timeline_item.layout, 具体样式无妨，只是要保证item在listview中展示时有时间轴效果&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;RelativeLayout&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://schemas.android.com/apk/res/android&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:layout_width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;match_parent&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:layout_height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;100dp&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;RelativeLayout&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;@+id/left_wrap&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_alignParentLeft&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_marginLeft&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;30dp&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;fill_parent&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;View&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;2dp&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;fill_parent&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_centerInParent&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:background&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#000&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;&amp;lt;!--圆形背景图，xml实现--&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;RelativeLayout&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;@+id/line_circle&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;40dp&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;40dp&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:background&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;@drawable/circle&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_centerInParent&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;comment&quot;&gt;&amp;lt;!--可代码控制显示不同的icon--&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ImageView&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;@+id/line_icon&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:layout_width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;20dp&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:layout_height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;20dp&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:layout_centerInParent&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;RelativeLayout&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;RelativeLayout&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;TextView&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;@+id/line_info&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:text&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;我是一条时间信息&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_centerVertical&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_marginLeft&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;20dp&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:textSize&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;20dp&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_toRightOf&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;@+id/left_wrap&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;TextView&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;@+id/line_time&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:text&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;2015-12-13&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_alignLeft&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;@+id/line_info&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_below&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;@+id/line_info&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:layout_marginTop&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;10dp&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;RelativeLayout&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;给出drawable/circle.xml文件，实现了一个圆形背景，当然你也可以用图片，或者去掉&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;shape&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://schemas.android.com/apk/res/android&quot;&lt;/span&gt; &amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;corners&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:radius&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;35dp&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;size&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;70dp&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;70dp&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;gradient&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:startColor&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#9933cc&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:endColor&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#aa66cc&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:angle&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;90&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;stroke&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;1dp&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:color&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;#ffff&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;stroke&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;padding&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:left&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;5dp&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:right&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;5dp&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:top&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;5dp&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:bottom&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;5dp&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;shape&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;还需要一个activity_time.layout文件存放我们的listview，注意listview的默认divider要去掉，否则会有分割线&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ListView&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;@+id/time_list&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:background&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;@android:color/transparent&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:layout_width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;fill_parent&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:headerDividersEnabled&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;false&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:footerDividersEnabled&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;false&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:layout_height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ListView&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;LinearLayout&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如果分割线还在，别担心，我们可以在代码里设置setDivier(null)&lt;/p&gt;
&lt;h3 id=&quot;第二步：准备listview的Adapter-新建一个TimeLineAdapter-继承BaseAdapter，给出部分关键代码&quot;&gt;&lt;a href=&quot;#第二步：准备listview的Adapter-新建一个TimeLineAdapter-继承BaseAdapter，给出部分关键代码&quot; class=&quot;headerlink&quot; title=&quot;第二步：准备listview的Adapter,新建一个TimeLineAdapter,继承BaseAdapter，给出部分关键代码&quot;&gt;&lt;/a&gt;第二步：准备listview的Adapter,新建一个TimeLineAdapter,继承BaseAdapter，给出部分关键代码&lt;/h3&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TimeLineAdpater&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;BaseAdapter&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; Context mc;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; String[] data = &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;开心&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;快乐&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;美丽&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;富有&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;爱情&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;啦啦&quot;&lt;/span&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TimeLineAdpater&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context text)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mc = text;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ......&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; View &lt;span class=&quot;title&quot;&gt;getView&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; pos, View view, ViewGroup par)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(view == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// 参数加入par,让item view保持原有的高度&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            View item = LayoutInflater.from(mc).inflate(R.layout.timeline_item,par,&lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            TextView text = (TextView)item.findViewById(R.id.line_info);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            text.setText(text.getText()+data[pos]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ImageView image = (ImageView)item.findViewById(R.id.line_icon);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// 一个android icon库，强烈推荐 github地址: https://github.com/mikepenz/Android-Iconics&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            IconicsDrawable icon = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; IconicsDrawable(mc)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    .icon(GoogleMaterial.Icon.gmd_today)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    .color(Color.WHITE);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            image.setImageDrawable(icon);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            view = item;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; view;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;最后一步：创建TimeActiviy文件，将TimeLineAdapter-Set到ListView上&quot;&gt;&lt;a href=&quot;#最后一步：创建TimeActiviy文件，将TimeLineAdapter-Set到ListView上&quot; class=&quot;headerlink&quot; title=&quot;最后一步：创建TimeActiviy文件，将TimeLineAdapter Set到ListView上&quot;&gt;&lt;/a&gt;最后一步：创建TimeActiviy文件，将TimeLineAdapter Set到ListView上&lt;/h3&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TimeActivity&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AppCompatActivity&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onCreate&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bundle savedInstanceState)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onCreate(savedInstanceState);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        setContentView(R.layout.activity_time);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ListView list = (ListView) findViewById(R.id.time_list);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        list.setDivider(&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        list.setAdapter(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TimeLineAdpater(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这样，就可以达到如上图1一样的效果啦。&lt;/p&gt;
&lt;h2 id=&quot;扩展&quot;&gt;&lt;a href=&quot;#扩展&quot; class=&quot;headerlink&quot; title=&quot;扩展&quot;&gt;&lt;/a&gt;扩展&lt;/h2&gt;&lt;p&gt;1.如上图2，时间轴可以放在中间（类似记账软件），根据奇偶或一定规则，通过LayoutParams调整item的布局或者干脆inflate不同的layout&lt;/p&gt;
&lt;p&gt;2.item布局自带一定的点击效果，可以自己调整，比如点击小图标或某一个item跳转到详情页等等&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;其实没什么技术难点，采用原生的ListView实现，重点反而在layout布局上(RelativeLayout真是强大)。&lt;/p&gt;
&lt;p&gt;先来展示一下最终效果&lt;/p&gt;
&lt;p&gt;&lt;Excerpt in index | 首页摘要&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
    
    </summary>
    
      <category term="编程" scheme="xjinjin.net/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="Android" scheme="xjinjin.net/tags/Android/"/>
    
  </entry>
  
</feed>
