<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[BL游戏盘点感动瞬间（二）—— steal，lucky dog]]></title>
      <url>xjinjin.net/2016/09/25/bl-game-moved-2/</url>
      <content type="html"><![CDATA[<p>啊，因为种种原因，真的好久没有碰游戏了呢。之前一直卡在神无之鸟那儿， 果然这种偏日常系列的我还是不太感冒的。</p>
<p>好的，废话少说，今天来盘点一下steal和lucky dog里的一些情节。这两个游戏我还是比较心水的，尤其是后者，简直大爱，每个角色的个人线部分编剧都非常走心。</p>
<p>因为，玩的时间很久了，所以剧情描述可能有出入，欢迎补充和指正哟。</p>
<h2 id="Steal"><a href="#Steal" class="headerlink" title="Steal"></a>Steal</h2><p>steal里面可攻略的角色真是多啊，各式各样（色色色）！</p>
<p>我对于银发是没有抵抗力的，所以一开始就对里面的桐生前辈很心水，结果这只居然是最鬼畜的。各个人物的线路总的来说一般，感点不多（我感点高？？）。不过我们可怜的兴前辈向明日叶诉说家里的长辈都说他不适合创作，只会临摹的人不可能啥啥啥的时候，明明很努力却不受认可，那副快哭出来的不知所措的样子我还是记忆尤深啊，心疼一把。</p>
<p><excerpt in="" index="" |="" 首页摘要=""></excerpt></p>
<ul>
<li><a id="more"></a>
<the rest="" of="" contents="" |="" 余下全文="">

</the></li>
</ul>
<h3 id="迪奥：我来接你了"><a href="#迪奥：我来接你了" class="headerlink" title="迪奥：我来接你了"></a>迪奥：我来接你了</h3><p><img src="http://ww2.sinaimg.cn/large/904e587bjw1f8629tvb6fj20m20gdgrb.jpg" alt="Steal结局L&#39; AMANTE"></p>
<p>迪奥这个角色是出乎我的意料的，一开始以为是典型的花花公子类型（好像也是哦），但和他接触越多，反而对他的情话喜欢起来。说起来，他一直对明日叶比较关照，也常常表达自己对他的喜欢，其他线中，迪奥曾说自己就是被明日叶＊＊的表情所俘虏的，想得到他的一切。</p>
<p>欺诈师的身份，看似什么都不在意又人缘超好的外表下，却掩藏着一个孤独的心。</p>
<p><img src="http://ww2.sinaimg.cn/large/904e587bjw1f862g1m6o6j20ls0gdn21.jpg" alt="幼年迪奥"><br>儿时在霍克逼迫下刺杀自己父亲的记忆是他挥之不去的阴霾。尤其是追捕霍克的任务消息一出来，他便按捺不住那颗想要复仇的心。霍克将两人关押，欲故技重施，逼迫就范，而拥有真实之眼的明日叶窥见了迪奥心底的秘密，迪奥最终也将自己的过去和盘托出。迪奥说的无比轻松，可明日叶为这样的迪奥心疼不已。</p>
<p>然而，最终事情并不顺利，明日叶虽然获救，大家也相安无事，但迪奥失踪，霍克下落不明，任务以失败告终，Team Griff解散。</p>
<p>后来传来消息霍克已经落网且已被极其残酷的手段制裁。</p>
<p>是不是迪奥因为巨大的复仇之心而做的已经不重要了，大家心里都知道迪奥多半是不可能再回来了。</p>
<blockquote>
<p>土屋太阳：大哥，是我最尊敬的人。为了明日叶前辈的话，就算是在世界尽头，也会赶回来的。</p>
</blockquote>
<p>这样的安慰显然不奏效，明日叶日渐消沉，自责愈深。到底自己哪里做错了，是不该佯装诱饵被抓住，不该和迪奥搭档，不该来到魁堂学院，又或者根本就该拥有True Eyes的力量，无法听进任何人的话。他只知道，自己眼睛无法窥见“真实”了。</p>
<p>最终，明日叶决定放弃成为Magnus Pica。 他要忘记所有人，忘记这段对他而言最重要的记忆，无论如何都不想失去的东西，以此作为对自己的惩罚。</p>
<blockquote>
<p>无法守护重要事物的我，不配拥有这些回忆<br>迪奥，如果能说出喜欢你就好了。为什么我连如此简单的事都没能做到呢。</p>
</blockquote>
<p>明日叶舍弃了Magnus Pica的身份，因此不得不抹去在美学行动科的所有记忆。转入普通学科的他，尽管对之前的事情全然不知，也渐渐失去了真实之眼的力量，但有些记忆会残留在人的身体里，成为本能。就像看到穆修，就会情不自禁的想摸摸他的头。想到某个记不起来的人时，脑中会窜过一阵剧痛。</p>
<p>耳边时常响起来一个熟悉的声音，（迪奥充满磁性的宠溺音）却不知为何。</p>
<p>一个平常的傍晚，一辆黑色的车停在了身边。走下来一个男人一把拥他入怀。</p>
<blockquote>
<p>我来接你了，gattino<br>让你久等了，对不起</p>
</blockquote>
<p>虽然不认识这个拥抱住自己的人，可是熟悉的怀抱，熟悉的味道让明日叶不自觉地湿了眼眶，他知道的，这种一直想见他，无比思念的感情。可是，他到底是谁呢，为什么怎么也想不起来。明日叶颤抖着发问。</p>
<blockquote>
<p>明日叶：谁？<br>迪奥：嗯？<br>明日叶：你是谁？<br>迪奥：我是你的恋人，明日叶</p>
</blockquote>
<p>迪奥觉得明日叶的记忆被抹去未尝不是一件好事，没了手环的他也不会被追踪，反而更安全。两人就这样相拥在夕阳的余晖下，迪奥宽大的怀抱让人安心。既然迪奥回来了，一定已经解决了所有的事情，带着必将让明日叶幸福的决心，他信守承诺，来接他了……</p>
<h2 id="Lucky-Dog"><a href="#Lucky-Dog" class="headerlink" title="Lucky Dog"></a>Lucky Dog</h2><p>大爱的良心之作，每个角色都很有特色，主角Gian我也敲喜欢，贱贱的样儿（害羞）。lucky dog里的感点还是比较多的，一开始我和大部分人一样冲着人气很高，明明是冷酷杀手却意外反差萌的紫毛君来的，但四条线全通后，最爱的角色居然是我一开始最讨厌的感觉咋咋唬唬的伊万。</p>
<h3 id="Ivan-那天，我们与日月同在"><a href="#Ivan-那天，我们与日月同在" class="headerlink" title="Ivan: 那天，我们与日月同在"></a>Ivan: 那天，我们与日月同在</h3><p><img src="http://ww2.sinaimg.cn/large/904e587bjw1f862cpmr64j20lx0gh43h.jpg" alt="垂暮之年的Ivan"><br>这张图玩过的人绝对印象深刻。据说是官方的GE结局，揭示黑手党不争的现实。</p>
<p>说实话，前一秒Gian还拖着病体赶到为Ivan求情，两人打情骂俏着回到医院，还在电梯里深情一吻，幸福的想让人流泪。可下一秒心电图的画面闪现，然后我就一脸萌比了。又看了几遍才明白了。一切不过是Ivan的垂暮之年，将死之人的一场回忆罢了。</p>
<blockquote>
<p>我终于要死了吗，一直以来我都在等待这个时刻的到来。<br>–大家，都在我之前去世了……<br>–有死在病床上的…..<br>－－也有死在下水道里的…….<br>–回过身来，发现只剩我一个人活着…….<br>–衰败不堪，身体腐朽…..<br>–剩下的，只有无用的公司和财产而已……..<br>–我…..直到现在….在意识的黑暗里，那些记忆无论何时都苏醒着。</p>
</blockquote>
<p>躺在病床上带着呼吸器的Ivan已经完全看不出他年轻时的模样了，我不知道他话里所说的死在病床上的那个人是不是Gian, 我只知道当时已经隐隐感觉Gian伤的其实非常重了。但如果真的如此，Ivan的孤独与寂寞从那时便已经开始，刚刚尝到了幸福的滋味，却没来得及好好珍惜。几十年里没有Gian在身边的煎熬，他又是如何忍受过来的。从不善于与人坦露心迹的他，又会在多少个夜里思念着Gian, 抱着仅有的回忆一夜难眠。<br>那天，劫后余生的他们在破旧的废船上笑的没心没肺，与一望无际的大海，与日月同在。<br><img src="http://ww4.sinaimg.cn/large/904e587bjw1f862jf5yc2j20m00glwoy.jpg" alt="与日月同在"></p>
<blockquote>
<p>我曾经……有个兄弟…..现在，他也在——-</p>
</blockquote>
<p>Ivan总是笨拙的表达着自己的感情，“内，我们是兄弟吧。”说不出口的爱，他反复向Gian确认着。</p>
<blockquote>
<p>Ivan…….喂，我说Ivan啊….</p>
</blockquote>
<p>冥冥之中，又听见了Gian温柔的呼唤着他的声音，是的，Gian一直都在等着你，你终于不必再害怕孤独，不必再忍受思念的煎熬了，Gian从来不曾离开过，就在那里等着你…..<br>［写着写着又哭死…..］</p>
<h3 id="Giulio-誓死守护你"><a href="#Giulio-誓死守护你" class="headerlink" title="Giulio: 誓死守护你"></a>Giulio: 誓死守护你</h3><p><img src="http://ww3.sinaimg.cn/large/904e587bjw1f862l0na3rj20lb0g579b.jpg" alt="满身是血的Giulio"><br>这张图，大家想必也印象深刻，又是哭死了多少人的一张图。<br>我们都知道Giulio的战斗力是很强的，可是再强，他也是会受伤，会死的。<br>Giulio救下了Gian, 也为此付出了生命的代价， 死前的最后一刻仍然担心着Gian的安危。可惜，以后不能再保护Gian桑了。从头到尾，Giulio一直注视着Gian, 恭恭敬敬地叫着Gian桑被Gian取笑却总也改不了口，在众人怀疑Gian的时候始终支持着他，甚至为了Gian去反抗自己的爷爷。<br>老实说，Giulio的某些行为是有些扭曲的，过早地被卷入家族斗争中，被当成杀人工具，被当作傀儡。尽管如此，他依然有自己的意志，有自己想要保护的人。<br>一开始很不明白，后来才知道，原来儿时的Giulio就已经见过Gian了，孤儿院那个抢了他糖果的小孩子。<br>在Giulio心里，一直觉得</p>
<blockquote>
<p>能和你相遇，真好<br>能喜欢上你， 真好</p>
</blockquote>
<p>Giulio在除了杀人以外的各种方面上都显得很稚嫩，完完全全就是个孩子。<br>是和Gian的相遇，Gian的存在一直支撑着Giulio，第一次有人像普通人一样对待他。Gian是他的信仰，是他的追随，Gian在Giulio心中的地位远远超过了所有人的想象。<br>而事后被转述着这一切的Gian痛哭失声，为什么没有早一点想起来，为什么当时不能再冷静一些，为什么……可是，再多的懊悔也没用，Giulio再也不会回来了。</p>
<h3 id="两人的记忆"><a href="#两人的记忆" class="headerlink" title="两人的记忆"></a>两人的记忆</h3><p>啊呀呀呀，说是盘点感动瞬间，怎么变成悲惨瞬间了，赶紧来点甜的。</p>
<p><img src="http://ww1.sinaimg.cn/large/904e587bjw1f862tfuab2j20ls0gbtdt.jpg" alt="Giulio,Gian两人的记忆HE"><br>这张应该是最幸福的Giulio和Gian的HE啦，（老觉得把我们可爱的Giulio画崩了）<br>一直埋藏在Giulio心底的记忆，属于两人的记忆在这一天被找回</p>
<blockquote>
<p>我，能够喜欢上你－－<br>自己也终于能摆脱<br>我，也喜欢….喜欢着你的…..我自己….</p>
</blockquote>
<p>Giulio一点一点害羞又执着的吐露着内心的感情，Gian还不明所以，有些不好意思（笨蛋）。 其实，Gian对当初给他糖果的家伙一直很感激，在久违了的糖果味道中，Gian恍然大悟，原来当初的那个孩子就是面前的这个人啊，原来Giulio一直都记得。孤儿院里的钟声响起，仿佛一切又回到两人最初相遇的时刻，一个人温柔地微笑，一个人还带着一脸的惊讶，可是，结局我们已经看到了，属于两人的幸福未来就此开始了…….</p>
<p>ps: Giulio的声音真是苏到不行啊</p>
<p>早知道会写盘点，当初就该在所有关键时刻存档的。。。。555555</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[webpack构建静态多页应用项目框架]]></title>
      <url>xjinjin.net/2016/08/20/webpack-multiple-page-static/</url>
      <content type="html"><![CDATA[<p>最近因为项目需求，需要使用webpack构建一个静态的多页应用，譬如主页网站之类。本文主要来解析一下按功能模块划分的项目结构，再重点分析webpack的配置文件。<a href="https://github.com/jincui/webpack-multiplepage" target="_blank" rel="external">项目源码github地址</a></p>
<p>view engine使用jade, css 预编译使用stylus，这个影响不大。<br>首先，我们来看一下项目的基本结构</p>
<p><excerpt in="" index="" |="" 首页摘要=""></excerpt></p>
<ul>
<li><a id="more"></a>
<the rest="" of="" contents="" |="" 余下全文=""><h2 id="项目基本结构"><a href="#项目基本结构" class="headerlink" title="项目基本结构"></a>项目基本结构</h2></the></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">- webpack-multiplepage</span><br><span class="line"> + build</span><br><span class="line"> - source</span><br><span class="line">   - components   ＃组件</span><br><span class="line">     - common</span><br><span class="line">       + styles   #公共样式</span><br><span class="line">     + header    #头部组件</span><br><span class="line">     + footer    </span><br><span class="line">     - layout    #布局组件</span><br><span class="line">       index.js   ＃layout入口文件，,可导入依赖，及写一些逻辑代码</span><br><span class="line">       layout.styl    #layout样式</span><br><span class="line">       bg.png</span><br><span class="line">       layout.jade   #页面布局jade，include了header.jade和footer.jade</span><br><span class="line">   - pages    ＃页面</span><br><span class="line">     + about   #关于模块</span><br><span class="line">     + help    #帮助模块</span><br><span class="line">     - index   #首页模块</span><br><span class="line">       index.jade    #首页内容，extends layout.jade</span><br><span class="line">       index.js    #首页入口文件,可导入依赖，及写一些逻辑代码</span><br><span class="line">       index.styl    #首页样式</span><br><span class="line"> .eslintrc</span><br><span class="line"> .eslintignore</span><br><span class="line"> .gitignore</span><br><span class="line"> webpack.config.js    #webpack配置文件</span><br><span class="line"> package.json</span><br><span class="line"> README.md</span><br></pre></td></tr></table></figure>
<p>layout组件是所有页面公用的布局组件，各个页面入口以<code>require(&#39;../../components/layout&#39;)</code>的方式引入，各个页面jade模版继承于layout.jade</p>
<p>同时layout/index.js中<code>require(&#39;../header&#39;)</code>和<code>require(&#39;../footer&#39;)</code>的方式引入header和footer模块(可以直接将header,footer有关代码写在layout中，不单独拎出)</p>
<p>项目上线时，以下是用webpack build之后的结果</p>
<h2 id="打包结果"><a href="#打包结果" class="headerlink" title="打包结果"></a>打包结果</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">- build</span><br><span class="line">  - assets    #字体，图片资源</span><br><span class="line">    + fonts</span><br><span class="line">    + images</span><br><span class="line">  - common    #公用文件，包含了第三方依赖和抽离出来的公共代码</span><br><span class="line">    common.****.js  </span><br><span class="line">    common.****.css</span><br><span class="line">  - about   ＃about模块</span><br><span class="line">    about.****.js   </span><br><span class="line">    about.****.css</span><br><span class="line">    about.html</span><br><span class="line">  + help</span><br><span class="line">  - index</span><br><span class="line">    index.****.js</span><br><span class="line">    index.****.css</span><br><span class="line">  index.html    #index首页置于根目录，方便webpack监听</span><br></pre></td></tr></table></figure>
<h2 id="webpack-config-js文件解析"><a href="#webpack-config-js文件解析" class="headerlink" title="webpack.config.js文件解析"></a>webpack.config.js文件解析</h2><p>build过程可以通过webpack.config.js文件进行灵活的配置，下面详细解释该文件，请看注释。<br>有关webpack的用法和各个插件的用法可以查看<a href="http://webpack.github.io/docs/" target="_blank" rel="external">官方文档</a>，<a href="http://webpack.github.io/docs/list-of-plugins.html#uglifyjsplugin" target="_blank" rel="external">插件列表</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 依赖</span></span><br><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</span><br><span class="line"><span class="keyword">var</span> ExtractTextPlugin = <span class="built_in">require</span>(<span class="string">'extract-text-webpack-plugin'</span>);</span><br><span class="line"><span class="keyword">var</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"><span class="keyword">var</span> CopyWebpackPlugin = <span class="built_in">require</span>(<span class="string">'copy-webpack-plugin'</span>);</span><br><span class="line"><span class="keyword">var</span> autoprefixer = <span class="built_in">require</span>(<span class="string">'autoprefixer'</span>);</span><br><span class="line"><span class="keyword">var</span> args = <span class="built_in">require</span>(<span class="string">'yargs'</span>).argv;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 命令行传入的环境参数</span></span><br><span class="line"><span class="comment">// 可通过--prod,--mock传入</span></span><br><span class="line"><span class="keyword">var</span> isProd = args.prod;</span><br><span class="line"><span class="keyword">var</span> isMock = args.mock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> plugins = [</span><br><span class="line">   <span class="comment">// Automatically loaded modules</span></span><br><span class="line">   <span class="keyword">new</span> webpack.ProvidePlugin(&#123;</span><br><span class="line">       $: <span class="string">'jquery'</span>,</span><br><span class="line">       jQuery: <span class="string">'jquery'</span>,</span><br><span class="line">       <span class="string">'window.jQuery'</span>: <span class="string">'jquery'</span></span><br><span class="line">   &#125;),</span><br><span class="line">   <span class="comment">// create global constants which can be configured at compile time</span></span><br><span class="line">   <span class="keyword">new</span> webpack.DefinePlugin(&#123;</span><br><span class="line">       __PROD__: isProd,</span><br><span class="line">       __MOCK__: isMock</span><br><span class="line">   &#125;),</span><br><span class="line">   <span class="comment">// 抽取公共模块</span></span><br><span class="line">   <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(<span class="string">'common'</span>, isProd ? <span class="string">'common/common.[hash].js'</span> : <span class="string">'common/common.js'</span>),</span><br><span class="line">   <span class="comment">// 对每个entry抽取css依赖,生成css文件</span></span><br><span class="line">   <span class="comment">// 注意：ExtractTextPlugin需在config的plugin及loader中一起使用</span></span><br><span class="line">   <span class="keyword">new</span> ExtractTextPlugin(isProd ? <span class="string">'[name]/[name].[contenthash].css'</span> : <span class="string">'[name]/[name].css'</span>),</span><br><span class="line">   <span class="comment">// 热替换</span></span><br><span class="line">   <span class="keyword">new</span> webpack.HotModuleReplacementPlugin()</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成html，并为html插入css,js等依赖</span></span><br><span class="line"><span class="comment">// 将首页的index.html 置于根目录</span></span><br><span class="line">plugins.push(</span><br><span class="line">   <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">       template: <span class="string">'./source/pages/index/index.jade'</span>,</span><br><span class="line">       filename: <span class="string">'index.html'</span>,</span><br><span class="line">       chunks: [<span class="string">'common'</span>, <span class="string">'index'</span>]</span><br><span class="line">   &#125;),</span><br><span class="line">   <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">       template: <span class="string">'./source/pages/help/help.jade'</span>,</span><br><span class="line">       filename: <span class="string">'help/index.html'</span>,</span><br><span class="line">       chunks: [<span class="string">'common'</span>, <span class="string">'help'</span>]</span><br><span class="line">   &#125;),</span><br><span class="line">   <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">       template: <span class="string">'./source/pages/about/about.jade'</span>,</span><br><span class="line">       filename: <span class="string">'about/index.html'</span>,</span><br><span class="line">       chunks: [<span class="string">'common'</span>, <span class="string">'about'</span>]</span><br><span class="line">   &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> base = <span class="string">'./'</span>;</span><br><span class="line"><span class="comment">// 多个入口文件集合</span></span><br><span class="line"><span class="keyword">var</span> entryJs = &#123;</span><br><span class="line">   index: [base + <span class="string">'/source/pages/index/index.js'</span>],</span><br><span class="line">   help: [base + <span class="string">'/source/pages/help/help.js'</span>],</span><br><span class="line">   about: [base + <span class="string">'/source/pages/about/about.js'</span>]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 通用第三方模块 ，最后和抽离的公共模块合并</span></span><br><span class="line">entryJs[<span class="string">'common'</span>] = [</span><br><span class="line">   <span class="comment">// 3rd dependencies</span></span><br><span class="line">   <span class="string">'normalize.css/normalize.css'</span>,</span><br><span class="line">   <span class="string">'bootstrap/dist/js/bootstrap.min'</span>,</span><br><span class="line">   <span class="string">'bootstrap/dist/css/bootstrap.min.css'</span>,</span><br><span class="line">   <span class="string">'font-awesome/css/font-awesome.min.css'</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (isProd) &#123;</span><br><span class="line">  <span class="comment">// 生产环境优化</span></span><br><span class="line">   plugins.push(</span><br><span class="line">       <span class="keyword">new</span> webpack.NoErrorsPlugin(),</span><br><span class="line">       <span class="comment">// Search for equal or similar files and deduplicate them in the output.</span></span><br><span class="line">       <span class="keyword">new</span> webpack.optimize.DedupePlugin(),</span><br><span class="line">       <span class="comment">// Minimize all JavaScript output of chunks</span></span><br><span class="line">       <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin(&#123;</span><br><span class="line">           compress: &#123;</span><br><span class="line">               warnings: <span class="literal">false</span></span><br><span class="line">           &#125;,</span><br><span class="line">           mangle: <span class="literal">false</span></span><br><span class="line">       &#125;),</span><br><span class="line">       <span class="keyword">new</span> webpack.optimize.OccurenceOrderPlugin()</span><br><span class="line">   );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">   entry: entryJs,</span><br><span class="line">   <span class="comment">// 打包文件输出配置</span></span><br><span class="line">   output: &#123;</span><br><span class="line">       path: base + <span class="string">'build'</span>,</span><br><span class="line">       <span class="comment">// e.g index/index.****.js</span></span><br><span class="line">       filename: isProd ? <span class="string">'[name]/[name].[hash].js'</span> : <span class="string">'[name]/[name].js'</span>,</span><br><span class="line">       chunkFilename: isProd ? <span class="string">'[name]/[name].[hash].chunk.js'</span> : <span class="string">'[name]/[name].chunk.js'</span></span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="built_in">module</span>: &#123;</span><br><span class="line">       preLoaders: [&#123;</span><br><span class="line">           test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">           loader: <span class="string">'eslint'</span>,</span><br><span class="line">           exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">       &#125;],</span><br><span class="line">       loaders: [&#123;</span><br><span class="line">           test: <span class="regexp">/\.html$/</span>,</span><br><span class="line">           loader: <span class="string">'html'</span></span><br><span class="line">       &#125;, &#123;</span><br><span class="line">           test: <span class="regexp">/\.jade$/</span>,</span><br><span class="line">           loader: <span class="string">'jade'</span></span><br><span class="line">       &#125;, &#123;</span><br><span class="line">           test: <span class="regexp">/\.styl$/</span>,</span><br><span class="line">           loader: ExtractTextPlugin.extract(<span class="string">'vue-style'</span>, <span class="string">'css?sourceMap!postcss!stylus'</span>, &#123;</span><br><span class="line">             <span class="comment">// 指定build根目录对css打包存储位置的路径，默认css直接放在根目录下</span></span><br><span class="line">             <span class="comment">// 各个css均被打包到build/*/文件夹中，所以路径为'../'</span></span><br><span class="line">               publicPath: <span class="string">'../'</span></span><br><span class="line">           &#125;)</span><br><span class="line">       &#125;, &#123;</span><br><span class="line">           test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">           loader: ExtractTextPlugin.extract(<span class="string">'vue-style'</span>, <span class="string">'css?sourceMap'</span>, &#123;</span><br><span class="line">               publicPath: <span class="string">'../'</span></span><br><span class="line">           &#125;)</span><br><span class="line">       &#125;, &#123;</span><br><span class="line">           test: <span class="regexp">/\.(woff|woff2|ttf|eot|svg)(\?]?.*)?$/</span>,</span><br><span class="line">           loader: <span class="string">'file?name=assets/fonts/[name].[ext]?[hash]'</span></span><br><span class="line">       &#125;, &#123;</span><br><span class="line">           test: <span class="regexp">/\.(png|jpg)$/</span>,</span><br><span class="line">           loader: <span class="string">'url?limit=8192&amp;name=assets/images/[name].[hash].[ext]'</span></span><br><span class="line">       &#125;]</span><br><span class="line">   &#125;,</span><br><span class="line">   plugins: plugins,</span><br><span class="line">   debug: !isProd,</span><br><span class="line">   <span class="comment">// sourceMap的几种模式差别解析，可参考https://segmentfault.com/a/1190000004280859这篇文章</span></span><br><span class="line">   devtool: isProd ? <span class="literal">false</span> : <span class="string">'eval-cheap-module-source-map'</span>,</span><br><span class="line">   <span class="comment">// 可访问localhost:8080查看效果</span></span><br><span class="line">   devServer: &#123;</span><br><span class="line">       contentBase: base + <span class="string">'build'</span>,</span><br><span class="line">       historyApiFallback: <span class="literal">true</span>,</span><br><span class="line">       inline: <span class="literal">true</span>,</span><br><span class="line">       stats: &#123;</span><br><span class="line">           modules: <span class="literal">false</span>,</span><br><span class="line">           cached: <span class="literal">false</span>,</span><br><span class="line">           colors: <span class="literal">true</span>,</span><br><span class="line">           chunk: <span class="literal">false</span></span><br><span class="line">       &#125;,</span><br><span class="line">       host: <span class="string">'0.0.0.0'</span>,</span><br><span class="line">       port: <span class="number">8080</span></span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="comment">// 使用postcss自动给css样式加前缀</span></span><br><span class="line">   postcss: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> [autoprefixer];</span><br><span class="line">   &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="配置优化"><a href="#配置优化" class="headerlink" title="配置优化?"></a>配置优化?</h3><p>以上的webpack配置有一个小小的问题，就是每次我添加一个新的页面模块时，比如product页面，需要手动在webpack.config文件里添加一个entry入口和HtmlWebpackPlugin。所以可以尝试用以下的的方法解决。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// npm install --save-dev glob</span></span><br><span class="line"><span class="keyword">var</span> getFiles = <span class="function"><span class="keyword">function</span>(<span class="params">filepath</span>) </span>&#123;</span><br><span class="line"> <span class="keyword">var</span> files = glob.sync(filepath);</span><br><span class="line"> <span class="keyword">var</span> entries = &#123;&#125;;</span><br><span class="line"> files.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">var</span> pathname = path.basename(item, path.extname(item))</span><br><span class="line">   entries[pathname] = item;</span><br><span class="line"> &#125;);</span><br><span class="line"> <span class="keyword">return</span> entries;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pages = getFiles(<span class="string">'./source/pages/*/*.jade'</span>);</span><br><span class="line"><span class="comment">// 生成html，插入依赖</span></span><br><span class="line"><span class="built_in">Object</span>.keys(pages).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">pageName</span>)</span>&#123;</span><br><span class="line">   plugins.push(</span><br><span class="line">     <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">         template: <span class="string">'./source/pages/'</span>+ pageName+ <span class="string">'/'</span> pageName + <span class="string">'.jade'</span>,</span><br><span class="line">         filename: pageName +<span class="string">'.html'</span>,</span><br><span class="line">         chunks: [ <span class="string">'vendor'</span>, pageName],</span><br><span class="line">     &#125;)</span><br><span class="line">   );</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> entryJs = getFiles(<span class="string">'./source/pages/*/*.js'</span>);</span><br></pre></td></tr></table></figure></p>
<p>遵循目录结构的话，这样写应该不会有什么问题。</p>
<h2 id="demo效果"><a href="#demo效果" class="headerlink" title="demo效果"></a>demo效果</h2><p>仅仅搭了一个架子，尚未进行项目编写，后续可能遇到一些实际问题，再做补充。<br>最后放一张运行结果图<br><img src="http://ww4.sinaimg.cn/large/904e587bjw1f6zlja79o5j21kw0xddmk.jpg" alt="demo运行图"></p>
<p>参考项目：</p>
<ul>
<li><a href="https://github.com/PinkyJie/angular1-webpack-starter" target="_blank" rel="external">angular1-webpack-starter</a></li>
<li><a href="https://github.com/vhtml/webpack-MultiPage-static" target="_blank" rel="external">webpack-MultiPage-static</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[BL游戏盘点感动瞬间（一）——鬼畜眼镜，lamento]]></title>
      <url>xjinjin.net/2016/08/14/bl-game-moved/</url>
      <content type="html"><![CDATA[<p>作为一个腐女，玩了很久的BL文字冒险游戏，有画风赞的，有剧情赞的，有BGM赞的。每每那些精彩直戳泪点的瞬间，让人爱到心碎。</p>
<p>所以特地开个系列来诉说那一段段感人肺腑的故事，欢迎同感者来交流。</p>
<h2 id="鬼畜眼镜"><a href="#鬼畜眼镜" class="headerlink" title="鬼畜眼镜"></a>鬼畜眼镜</h2><p><img src="http://ww2.sinaimg.cn/large/904e587bjw1f5mg3sa7nhj20ma0gm43x.jpg" alt="鬼畜眼镜图"></p>
<p><excerpt in="" index="" |="" 首页摘要=""></excerpt></p>
<ul>
<li><a id="more"></a>
<the rest="" of="" contents="" |="" 余下全文="">

</the></li>
</ul>
<h3 id="蜜豆桑和眼镜克哉重逢"><a href="#蜜豆桑和眼镜克哉重逢" class="headerlink" title="蜜豆桑和眼镜克哉重逢"></a>蜜豆桑和眼镜克哉重逢</h3><p>首当其冲的必然是鬼畜眼镜的这张了（翻来翻去就这张比较有记忆点了），蜜豆桑的GE线是我非常喜欢的线，蜜豆桑真的好傲娇啊！<br>眼睛克哉在对御堂实施了一系列“惨无人道”的鬼畜行径后，看着逐渐丧失生气的御堂，终于恍然大悟，原来自己所做的这一切只是出于喜欢，只是天真的以为把他的一切夺过来之后，自己就能得到他。一番悔悟后，克哉决定放开御堂，让一切重归于零。</p>
<p>然后命运让两人再次相遇，此时的御堂已经恢复了以往的神采。而克哉装作陌生人一般的口吻触动了他的内心。</p>
<p>白茫茫的雪夜，御堂最终还是追到了克哉的身边，质问他，他对他来说已经什么都不算了嘛</p>
<p>尽管克哉装作无所谓，御堂还是忍不住将自己地心意袒露，明明觉得自己那么恨他，明明把一切与克哉有关的东西都销毁，明明那么努力地想忘记他，却始终是徒劳，克哉已经在他的心里留下深深地烙印。</p>
<p>讶异御堂的表白之际，克哉将御堂揽入怀中，深深地吻上渴慕已久的唇。</p>
<blockquote>
<p>克哉：“我的表白一年前你已经听过了，现在轮到你了。”<br>御堂：“…..喜欢…..”<br>克哉：“我听不到哦”<br>御堂：“…….喜欢你“</p>
</blockquote>
<h2 id="lamento"><a href="#lamento" class="headerlink" title="lamento"></a>lamento</h2><p>接下来就是lamento啦，其实lamento三条线都比较像，大白，小黑和大叔都因为各种各样的原因堕入黑暗，而柯诺尔就是拯救他们心灵的那抹光明</p>
<p><img src="http://ww2.sinaimg.cn/large/904e587bjw1f5mg5zeytpj20lr0gdwhb.jpg" alt="大白相爱相杀图"></p>
<h3 id="莱伊柯诺尔相爱相杀"><a href="#莱伊柯诺尔相爱相杀" class="headerlink" title="莱伊柯诺尔相爱相杀"></a>莱伊柯诺尔相爱相杀</h3><p>大白一直宣称自己只是因为柯诺尔赞牙地身份才把他留在身边，对柯诺尔也一直很冷淡。强大的外壳之下势必隐藏着一颗脆弱的心灵，从小得不到父母关爱的大白，开始渴求杀戮，对被撕裂者流出的鲜血变态般的感到温暖。</p>
<p>他发觉了，自己的意识总有一天会被隐藏的欲望所吞噬，他开始害怕，甚至抗拒柯诺尔的接触。柯诺尔看着这样的莱伊，实在无法放任不管，他向大白承诺，如果有一天，他真的堕入黑暗再也回不来了，那么他一定会亲手了结他。</p>
<p>万万没想到，最终的厮杀场上，真的迎来了这样的时刻，柯诺尔万分心痛，但依然摒弃懦弱，将剑刺进了彼此的胸口。</p>
<p>最后一刻，他安静的闭上眼睛，感受着彼此最后的温度，就这样怀抱着彼此死去，是否也是一种不错的结局呢。</p>
<p><img src="http://ww2.sinaimg.cn/large/904e587bjw1f5mg6aq99dj20m00g80wg.jpg" alt="小黑忠犬图"></p>
<h3 id="阿萨多带着柯诺尔重归故里"><a href="#阿萨多带着柯诺尔重归故里" class="headerlink" title="阿萨多带着柯诺尔重归故里"></a>阿萨多带着柯诺尔重归故里</h3><p>小黑简直是忠犬，哦不，忠猫啊。</p>
<p>作为禁忌之子，小黑从小就不受奈良群族的待见，因为帮助了柯诺尔，而遭受了整个奈良的驱逐和追杀。是柯诺尔改变了他的信仰，带他来到了外面的世界，而柯诺尔也成了他唯一的追随。</p>
<p>打破禁忌的惩罚就是阿萨多背负的血脉，他是不详的存在，是恶魔之子。柯诺尔读取阿萨多母亲遗物的记忆，告诉阿萨多即便中间有几多绝望和痛苦，但他的母亲到最后一刻，仍然觉得能遇见他的父亲，能生下他是此生最大的美好。</p>
<p>拼尽全力与自身的诅咒去抵抗，仍然一步步沦陷，阿萨多开始逃避柯诺尔，他怕自己有一天变的丑陋不堪，会伤害到他，会被再次抛弃。</p>
<p>最后，在大魔王利克斯的驱使下，阿萨多完全失去了理性，堕落成了恶魔一般的存在。柯诺尔竭力挽回，但伤口的疼痛让他难以集中精神，阿萨多命在旦夕，柯诺尔咬牙斩断了自己的手臂，最终在柯诺尔，阿萨多的父亲，莱伊等一众人的努力下，战争终于结束。</p>
<p>恢复意识的阿萨多，看到柯诺尔德的手，顿时泪如雨下，悔恨交加。<br>而柯诺尔只是温柔的抱着他，告诉他，我没事，不痛了。</p>
<p>一切恍如梦一般逝去，除了柯诺尔手上的残缺，好像没什么能证明那场战争的存在……..不安分的柯诺尔试图像往常一样去爬树，却无法像以往一样灵活，不慎摔下来，却正好落入阿萨多的怀抱。</p>
<p>阿萨多看着他的伤口，眼里的愧疚不言而喻。柯诺尔小心的遮住，尽管现在还时常隐隐作痛，尽管那场战争遗留下的利克斯的记忆让他每每从噩梦中惊醒，但身边有阿萨多的陪伴，那样小心翼翼的眼神看着他，一切也都不那么可怕了。</p>
<p>樱花飞舞之际，阿萨多决定重回奈良，现在的他已经变得足够强大去面对一切，更重要的，身边有柯诺尔的陪伴…….</p>
<p>不得不提，修伊和利克斯是lamento最大的泪点。三条线的GE全通，才能完整的了解这两个人之间的事情，心疼利克斯，那样强烈的恨，是因为那样炽烈的爱。</p>
<p><img src="http://ww2.sinaimg.cn/large/904e587bjw1f5mg6mpiohj21ci0tuwma.jpg" alt="利克斯修伊图"></p>
<blockquote>
<p>“就算全世界要将你抹杀，我也不会将你忘记”</p>
</blockquote>
<p>这应该是修伊要对利克斯说的吧………即便已经死去，修伊仍然用自己最后的灵魂，借助柯诺尔的身体将他的感情诉说给利克斯听。</p>
<p>他从来没有想过要背叛利克斯，甚至当别人以权位为要挟时，他毅然决然了选择了利克斯。当他得知阴谋赶到的时候，大火已经吞噬了一切，他自责自己为何那么不小心被人跟踪，导致利克斯丧命。生命像一下子失去了颜色，然而他低估了猫性的黑暗面，他们除了想杀利克斯，也想杀了和“恶魔”来往的他。</p>
<p>利克斯，居于深山，潜心研究的伟大魔法师。猫们害怕他，认为他是邪恶的，他也不屑与他们来往。然而平静的生活却某一天被一只叫修伊的小猫打破，纠缠不休。利克斯从来没见过这样的猫，既不害怕他，还想跟他做朋友。渐渐地，他们成了好朋友，修伊向他诉说着外面世界的美好，而利克斯从来没有这样去信任过谁，他对他的感情甚至超越了朋友。</p>
<p>突如其来的绞杀，让利克斯愤恨到了极点，那条路是他专门为修伊开辟的，除了他，不可能有任何人知道。<br>说好的约定呢，说好的明天呢，全部都是谎言，他以为修伊和那帮人一样，接近他，只是为了有一天能杀了他。</p>
<p>失去了理智的利克斯，为了报复修伊，拿修伊的孩子，也就是柯诺尔做情感容器，让他去承载那份罪恶。</p>
<p>最后的最后，修伊借助柯诺尔唱出了那首曾经约定好的为利克斯而写的歌，利克斯才终于明白，原来自己之所以会那么憎恨，是因为自己对修伊，对他，曾经，包括现在，是那么的………..</p>
<p>柯诺尔有时在想，利克斯不惜把世界搅得翻天覆地，是不是只是为了能再见修伊一面呢………</p>
<p>话说, lamento的每个GE结局都非常温馨，但BE就简直惨无人道，我那么可爱的柯诺尔怎么能被四个恶魔染指呢。。。</p>
<p>可惜他不像鬼畜那样，回想只有H部分的戏码，所以有些剧情记不太清了哈，欢迎指正和补充，嘻嘻嘻……..</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[js数字format转换代码，带千，万，百万单位]]></title>
      <url>xjinjin.net/2016/08/12/unit-conversion/</url>
      <content type="html"><![CDATA[<p>所谓带单位，就是实现1000-&gt;1千，259999-&gt;25万，10020002-&gt;1千万类似这样的处理</p>
<p>在介绍format的snippet之前，先来介绍一个很好用的库（虽然并没有什么关系）, <a href="http://numeraljs.com/" target="_blank" rel="external">numeral.js</a>, 有很多format的功能，譬如百分比转换，货币转换，单位换算，还能unformat, 配置不同的语言转换标准，真的十分强大。</p>
<p><excerpt in="" index="" |="" 首页摘要=""></excerpt></p>
<ul>
<li><a id="more"></a>
<the rest="" of="" contents="" |="" 余下全文="">

</the></li>
</ul>
<p>事实上，numeral.js库也提供了诸如这样的numeral(1000).format(‘0 a’) =&gt; 1 千 加单位的format功能，配置好中文语言标准即可。然而，似乎只能以3位分割，匹配到千，百万，亿这种（也许文档没看仔细），可我还想要万，千万呢，又或者自由位数分割，于是就有了下面这段代码。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">NumberUpperFormat</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// num - 位数</span></span><br><span class="line">        <span class="comment">// 简单理解后面要有三个0，则是千，4个零，则是万。当然不一定是零，位数到了就行，反正都会省略掉（未做四舍五入）</span></span><br><span class="line">        <span class="comment">// 可以随意的增删改units内容实现单位的配置</span></span><br><span class="line">        <span class="keyword">const</span> units = [</span><br><span class="line">          &#123;num: <span class="number">3</span>, unit: <span class="string">'千'</span>&#125;,</span><br><span class="line">          &#123;num: <span class="number">4</span>, unit: <span class="string">'万'</span>&#125;,</span><br><span class="line">          &#123;num: <span class="number">6</span>, unit: <span class="string">'百万'</span>&#125;,</span><br><span class="line">          &#123;num: <span class="number">7</span>, unit: <span class="string">'千万'</span>&#125;,</span><br><span class="line">          &#123;num: <span class="number">8</span>, unit: <span class="string">'亿'</span>&#125;</span><br><span class="line">        ];</span><br><span class="line">        <span class="comment">// 精确到整数，直接用js自带方法input.toFixed(0)也可以</span></span><br><span class="line">        <span class="keyword">const</span> num = numeral(input).format(<span class="string">'0'</span>);</span><br><span class="line">        <span class="keyword">if</span> (num.length &lt;= <span class="number">3</span>) &#123;</span><br><span class="line">            <span class="comment">// 项目相关需求，千以下不加单位</span></span><br><span class="line">            <span class="keyword">return</span> num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 保证前面至少留一位</span></span><br><span class="line">        <span class="keyword">const</span> len = num.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">let</span> isFind = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, length = units.length; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="keyword">let</span> item = units[i];</span><br><span class="line">            <span class="keyword">if</span> (len &gt;= item.num &amp;&amp; len &lt; units[i + <span class="number">1</span>].num) &#123;</span><br><span class="line">                isFind = <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i === (length - <span class="number">2</span>)) &#123;</span><br><span class="line">                isFind = <span class="literal">true</span>;</span><br><span class="line">                item = units[++i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (isFind) &#123;</span><br><span class="line">                <span class="comment">// 确认区间后，返回前几位加上单位</span></span><br><span class="line">                <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;num.slice(0, num.length - item.num)&#125;</span><span class="subst">$&#123;item.unit&#125;</span>`</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这段代码还有些坚固性等方面的问题，欢迎补充！</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[透明背景,可编辑下拉框]]></title>
      <url>xjinjin.net/2016/07/15/transparent-editable-select/</url>
      <content type="html"><![CDATA[<p>可编辑的下拉框似乎已经有很多实现了，无非是加上一个input，配合监听事件，不过小金金偏爱透明的控件，所有实现有点变化。<br>依旧是非图片实现（没准，有图片会更方便）</p>
<p>实现效果<br><img src="http://ww4.sinaimg.cn/large/904e587bgw1f5vjav1q5ig204102ndgw.gif" alt="透明可编辑下拉框"></p>
<p><excerpt in="" index="" |="" 首页摘要=""></excerpt></p>
<ul>
<li><a id="more"></a>
<the rest="" of="" contents="" |="" 余下全文="">

</the></li>
</ul>
<h2 id="基本实现"><a href="#基本实现" class="headerlink" title="基本实现"></a>基本实现</h2><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"select-box"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">maxlength</span>=<span class="string">"2"</span> <span class="attr">value</span>=<span class="string">"10"</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">select</span> <span class="attr">class</span>=<span class="string">"show-select"</span>&gt;</span><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">'data'</span> <span class="attr">class</span>=<span class="string">"bottom-select"</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">option</span>&gt;</span>5<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">option</span>&gt;</span>10<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">option</span>&gt;</span>20<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-tag">select</span>&#123;</span><br><span class="line">				<span class="attribute">position</span>: absolute;</span><br><span class="line">				<span class="attribute">background</span>: none;</span><br><span class="line">				<span class="attribute">color</span>:white;</span><br><span class="line">				<span class="attribute">width</span>:<span class="number">50px</span>;</span><br><span class="line">				<span class="attribute">height</span>:<span class="number">20px</span>;</span><br><span class="line">				<span class="attribute">top</span>:<span class="number">40px</span>;<span class="attribute">left</span>:<span class="number">75px</span>;</span><br><span class="line">				<span class="attribute">border-color</span>: white;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="selector-class">.show-select</span> &#123;</span><br><span class="line">				<span class="attribute">z-index</span>:<span class="number">1</span>;</span><br><span class="line">				<span class="attribute">pointer-events</span>: none;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="selector-class">.bottom-select</span> &#123;</span><br><span class="line">				<span class="attribute">z-index</span>:<span class="number">0</span>;</span><br><span class="line">				<span class="attribute">color</span>:transparent</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="selector-tag">input</span> &#123;</span><br><span class="line">				<span class="attribute">z-index</span>: <span class="number">2</span>;</span><br><span class="line">				<span class="attribute">color</span>: white;</span><br><span class="line">				<span class="attribute">background</span>: none;</span><br><span class="line">				<span class="attribute">position</span>: absolute;</span><br><span class="line">				<span class="attribute">width</span>:<span class="number">30px</span>;</span><br><span class="line">				<span class="attribute">height</span>:<span class="number">20px</span>;<span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">				<span class="attribute">left</span>:<span class="number">80px</span>;</span><br><span class="line">				<span class="attribute">top</span>:<span class="number">38px</span>;</span><br><span class="line">				<span class="attribute">text-align</span>: center;</span><br><span class="line">				<span class="attribute">border</span>: none;</span><br><span class="line">			&#125;</span><br></pre></td></tr></table></figure>
<h3 id="详解"><a href="#详解" class="headerlink" title="详解"></a>详解</h3><p>不变的结构是，用input覆盖在select上响应用户输入，排版对齐什么不用说啦<br>结合css来看，回答几个问题</p>
<ol>
<li>为什么要用两个select<br>A: 由于所有控件都是透明背景，所以为了既显示出select的可点击部分，又隐藏select中间的内容部分，使用show-select显示控件，使用bottom-select响应事件</li>
<li>pointer-events是什么<br>A: pointer-events设为none,<strong>则该元素永远不会成为鼠标事件的target</strong>,故可以点击到最底层的bottom-select<br>具体使用可见<a href="http://www.css88.com/book/css/properties/user-interface/pointer-events.htm" target="_blank" rel="external">pointer-events属性详解</a></li>
<li>这样就够了嘛<br>A: 当然…..不够，还需要js监听select的change事件<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'#data'</span>).change(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'input'</span>).val($(<span class="string">'#data'</span>).find(<span class="string">'option:selected'</span>).text())</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[web app透明渐变的导航栏]]></title>
      <url>xjinjin.net/2016/07/06/transparent-nav/</url>
      <content type="html"><![CDATA[<p>这种透明渐变的导航栏就是我们经常看到的随用户滚动改变透明度的导航栏，本次主要通过background-color的rgba值来实现</p>
<p>原理：监听window的scroll事件，根据滚动值动态设置rgba值</p>
<p><excerpt in="" index="" |="" 首页摘要=""></excerpt></p>
<ul>
<li><a id="more"></a>
<the rest="" of="" contents="" |="" 余下全文="">

</the></li>
</ul>
<p>下图为一个简单的实现效果<br><img src="http://ww3.sinaimg.cn/large/904e587bjw1f5kfdid90og20940fcduf.gif" alt="实现效果"></p>
<h2 id="最简实现"><a href="#最简实现" class="headerlink" title="最简实现"></a>最简实现</h2><p>html,css准备,一个nav bar，大家都会写的咯^.^<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span> <span class="attr">id</span>=<span class="string">"header"</span> <span class="attr">style</span>=<span class="string">"background-color: rgba(247,247,247,0)"</span> <span class="attr">class</span>=<span class="string">"transparent_nav"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/back.png"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>导航栏<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.transparent_nav</span>&#123;</span><br><span class="line">      <span class="attribute">position</span>: fixed;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">44px</span>;</span><br><span class="line">      <span class="attribute">display</span>: block;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>接下来就是js部分，将window.scrollY减去一个基线值，如0,再将差与一个固定的offset值比较，如150，得出此时的rgba中的a值<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> header = <span class="built_in">document</span>.getElementById(<span class="string">"header"</span>)</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">"scroll"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// top-0  offset-150</span></span><br><span class="line">    header.style.backgroundColor = <span class="string">"rgba(247,247,247,"</span>+(<span class="built_in">window</span>.scrollY<span class="number">-0</span>)/<span class="number">150</span>+<span class="string">")"</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure></p>
<h2 id="进阶实现"><a href="#进阶实现" class="headerlink" title="进阶实现"></a>进阶实现</h2><p>将透明渐变方法封装一下，使得其可复用<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Transparent = <span class="function"><span class="keyword">function</span>(<span class="params">element,option</span>)</span>&#123;</span><br><span class="line">			<span class="keyword">this</span>.element = element;</span><br><span class="line">			<span class="keyword">this</span>.option = option || &#123;</span><br><span class="line">				offset:<span class="number">150</span>,</span><br><span class="line">				top:<span class="number">0</span>,</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">this</span>._style = <span class="keyword">this</span>.element.style</span><br><span class="line">			<span class="keyword">this</span>._bgColor = <span class="keyword">this</span>._style.backgroundColor</span><br><span class="line">			<span class="keyword">var</span> color = getColor(<span class="keyword">this</span>._bgColor)</span><br><span class="line">			<span class="keyword">this</span>.R = color[<span class="number">0</span>]</span><br><span class="line">			<span class="keyword">this</span>.G = color[<span class="number">1</span>]</span><br><span class="line">			<span class="keyword">this</span>.B = color[<span class="number">2</span>]</span><br><span class="line">			<span class="keyword">this</span>.handleScroll = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">				<span class="keyword">this</span>._style.backgroundColor = <span class="string">"rgba("</span>+<span class="keyword">this</span>.R+<span class="string">","</span>+<span class="keyword">this</span>.G+<span class="string">","</span>+<span class="keyword">this</span>.B+<span class="string">","</span>+(<span class="built_in">window</span>.scrollY-<span class="keyword">this</span>.option.top)/<span class="keyword">this</span>.option.offset+<span class="string">")"</span></span><br><span class="line">			&#125;</span><br><span class="line">	        <span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, <span class="keyword">this</span>.handleScroll);</span><br><span class="line">		&#125;</span><br><span class="line">	  Transparent(header)</span><br></pre></td></tr></table></figure></p>
<p>其中，getColor方法的作用是提取rgba的四个参数值，以数组形式返回，可以通过正则匹配，或者最简单的substring,split,想怎么实现这么实现咯！！</p>
<p>就这么简单就完啦，撒花，撒花！！</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[自定义android时间轴控件]]></title>
      <url>xjinjin.net/2016/06/03/timeline-of-android/</url>
      <content type="html"><![CDATA[<p>其实没什么技术难点，采用原生的ListView实现，重点反而在layout布局上(RelativeLayout真是强大)。</p>
<p>先来展示一下最终效果</p>
<p><excerpt in="" index="" |="" 首页摘要=""></excerpt></p>
<ul>
<li><a id="more"></a>
<the rest="" of="" contents="" |="" 余下全文=""><br><img src="http://ww4.sinaimg.cn/mw690/ea514745jw1f4iieg7126j20u01e0428.jpg" width="300" height="auto" alt="时间轴见图"><br><img src="http://ww2.sinaimg.cn/mw690/ea514745jw1f4iivvvv33j20u01e0gou.jpg" width="300" height="auto" alt="时间轴见图"></the></li>
</ul>
<h2 id="最简实现"><a href="#最简实现" class="headerlink" title="最简实现"></a>最简实现</h2><h3 id="第一步，准备layout文件"><a href="#第一步，准备layout文件" class="headerlink" title="第一步，准备layout文件"></a>第一步，准备layout文件</h3><p>首先是timeline_item.layout, 具体样式无妨，只是要保证item在listview中展示时有时间轴效果<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span> <span class="attr">android:layout_height</span>=<span class="string">"100dp"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">RelativeLayout</span></span><br><span class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/left_wrap"</span></span><br><span class="line">        <span class="attr">android:layout_alignParentLeft</span>=<span class="string">"true"</span></span><br><span class="line">        <span class="attr">android:layout_marginLeft</span>=<span class="string">"30dp"</span></span><br><span class="line">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span><br><span class="line">        <span class="attr">android:layout_height</span>=<span class="string">"fill_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">View</span></span><br><span class="line">        <span class="attr">android:layout_width</span>=<span class="string">"2dp"</span></span><br><span class="line">        <span class="attr">android:layout_height</span>=<span class="string">"fill_parent"</span></span><br><span class="line">        <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span></span><br><span class="line">        <span class="attr">android:background</span>=<span class="string">"#000"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--圆形背景图，xml实现--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">RelativeLayout</span></span><br><span class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/line_circle"</span></span><br><span class="line">        <span class="attr">android:layout_width</span>=<span class="string">"40dp"</span></span><br><span class="line">        <span class="attr">android:layout_height</span>=<span class="string">"40dp"</span></span><br><span class="line">        <span class="attr">android:background</span>=<span class="string">"@drawable/circle"</span></span><br><span class="line">        <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!--可代码控制显示不同的icon--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ImageView</span></span><br><span class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/line_icon"</span></span><br><span class="line">            <span class="attr">android:layout_width</span>=<span class="string">"20dp"</span></span><br><span class="line">            <span class="attr">android:layout_height</span>=<span class="string">"20dp"</span></span><br><span class="line">            <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span><br><span class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/line_info"</span></span><br><span class="line">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span><br><span class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span><br><span class="line">        <span class="attr">android:text</span>=<span class="string">"我是一条时间信息"</span></span><br><span class="line">        <span class="attr">android:layout_centerVertical</span>=<span class="string">"true"</span></span><br><span class="line">        <span class="attr">android:layout_marginLeft</span>=<span class="string">"20dp"</span></span><br><span class="line">        <span class="attr">android:textSize</span>=<span class="string">"20dp"</span></span><br><span class="line">        <span class="attr">android:layout_toRightOf</span>=<span class="string">"@+id/left_wrap"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span><br><span class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/line_time"</span></span><br><span class="line">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span><br><span class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span><br><span class="line">        <span class="attr">android:text</span>=<span class="string">"2015-12-13"</span></span><br><span class="line">        <span class="attr">android:layout_alignLeft</span>=<span class="string">"@+id/line_info"</span></span><br><span class="line">        <span class="attr">android:layout_below</span>=<span class="string">"@+id/line_info"</span></span><br><span class="line">        <span class="attr">android:layout_marginTop</span>=<span class="string">"10dp"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>给出drawable/circle.xml文件，实现了一个圆形背景，当然你也可以用图片，或者去掉<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">shape</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span> &gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">"35dp"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">size</span></span><br><span class="line">        <span class="attr">android:height</span>=<span class="string">"70dp"</span></span><br><span class="line">        <span class="attr">android:width</span>=<span class="string">"70dp"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">gradient</span></span><br><span class="line">        <span class="attr">android:startColor</span>=<span class="string">"#9933cc"</span></span><br><span class="line">        <span class="attr">android:endColor</span>=<span class="string">"#aa66cc"</span></span><br><span class="line">        <span class="attr">android:angle</span>=<span class="string">"90"</span></span><br><span class="line">        /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">stroke</span></span><br><span class="line">        <span class="attr">android:width</span>=<span class="string">"1dp"</span></span><br><span class="line">        <span class="attr">android:color</span>=<span class="string">"#ffff"</span>&gt;</span><span class="tag">&lt;/<span class="name">stroke</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">padding</span> <span class="attr">android:left</span>=<span class="string">"5dp"</span></span><br><span class="line">        <span class="attr">android:right</span>=<span class="string">"5dp"</span></span><br><span class="line">        <span class="attr">android:top</span>=<span class="string">"5dp"</span></span><br><span class="line">        <span class="attr">android:bottom</span>=<span class="string">"5dp"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>还需要一个activity_time.layout文件存放我们的listview，注意listview的默认divider要去掉，否则会有分割线<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ListView</span></span><br><span class="line">    <span class="attr">android:id</span>=<span class="string">"@+id/time_list"</span></span><br><span class="line">    <span class="attr">android:background</span>=<span class="string">"@android:color/transparent"</span></span><br><span class="line">    <span class="attr">android:layout_width</span>=<span class="string">"fill_parent"</span></span><br><span class="line">    <span class="attr">android:headerDividersEnabled</span>=<span class="string">"false"</span></span><br><span class="line">    <span class="attr">android:footerDividersEnabled</span>=<span class="string">"false"</span></span><br><span class="line">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span><span class="tag">&lt;/<span class="name">ListView</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>如果分割线还在，别担心，我们可以在代码里设置setDivier(null)</p>
<h3 id="第二步：准备listview的Adapter-新建一个TimeLineAdapter-继承BaseAdapter，给出部分关键代码"><a href="#第二步：准备listview的Adapter-新建一个TimeLineAdapter-继承BaseAdapter，给出部分关键代码" class="headerlink" title="第二步：准备listview的Adapter,新建一个TimeLineAdapter,继承BaseAdapter，给出部分关键代码"></a>第二步：准备listview的Adapter,新建一个TimeLineAdapter,继承BaseAdapter，给出部分关键代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TimeLineAdpater</span> <span class="keyword">extends</span> <span class="title">BaseAdapter</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Context mc;</span><br><span class="line">    <span class="keyword">private</span> String[] data = &#123;<span class="string">"开心"</span>,<span class="string">"快乐"</span>,<span class="string">"美丽"</span>,<span class="string">"富有"</span>,<span class="string">"爱情"</span>,<span class="string">"啦啦"</span>&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TimeLineAdpater</span><span class="params">(Context text)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.mc = text;</span><br><span class="line">    &#125;</span><br><span class="line">    ......</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> pos, View view, ViewGroup par)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(view == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="comment">// 参数加入par,让item view保持原有的高度</span></span><br><span class="line">            View item = LayoutInflater.from(mc).inflate(R.layout.timeline_item,par,<span class="keyword">false</span>);</span><br><span class="line">            TextView text = (TextView)item.findViewById(R.id.line_info);</span><br><span class="line">            text.setText(text.getText()+data[pos]);</span><br><span class="line"></span><br><span class="line">            ImageView image = (ImageView)item.findViewById(R.id.line_icon);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 一个android icon库，强烈推荐 github地址: https://github.com/mikepenz/Android-Iconics</span></span><br><span class="line">            IconicsDrawable icon = <span class="keyword">new</span> IconicsDrawable(mc)</span><br><span class="line">                    .icon(GoogleMaterial.Icon.gmd_today)</span><br><span class="line">                    .color(Color.WHITE);</span><br><span class="line">            image.setImageDrawable(icon);</span><br><span class="line">            view = item;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> view;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="最后一步：创建TimeActiviy文件，将TimeLineAdapter-Set到ListView上"><a href="#最后一步：创建TimeActiviy文件，将TimeLineAdapter-Set到ListView上" class="headerlink" title="最后一步：创建TimeActiviy文件，将TimeLineAdapter Set到ListView上"></a>最后一步：创建TimeActiviy文件，将TimeLineAdapter Set到ListView上</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TimeActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_time);</span><br><span class="line">        ListView list = (ListView) findViewById(R.id.time_list);</span><br><span class="line">        list.setDivider(<span class="keyword">null</span>);</span><br><span class="line">        list.setAdapter(<span class="keyword">new</span> TimeLineAdpater(<span class="keyword">this</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样，就可以达到如上图1一样的效果啦。</p>
<h2 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h2><p>1.如上图2，时间轴可以放在中间（类似记账软件），根据奇偶或一定规则，通过LayoutParams调整item的布局或者干脆inflate不同的layout</p>
<p>2.item布局自带一定的点击效果，可以自己调整，比如点击小图标或某一个item跳转到详情页等等</p>
]]></content>
    </entry>
    
  
  
</search>
